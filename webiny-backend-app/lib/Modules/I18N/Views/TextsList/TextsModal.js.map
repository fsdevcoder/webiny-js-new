{"version":3,"sources":["../../../../../src/Modules/I18N/Views/TextsList/TextsModal.jsx"],"names":["TranslationModal","Ui","props","get","data","i18n","hide","then","onTextsSaved","model","form","id","app","submit","ModalComponent","defaultProps","extendProps","noop","createComponent","modulesProp","modules"],"mappings":"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","file":"TextsModal.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport {Webiny} from 'webiny-client';\n\n/**\n * @i18n.namespace  Webiny.Backend.I18N.TranslationModal\n */\nclass TranslationModal extends Webiny.Ui.ModalComponent {\n    renderDialog() {\n        const {Ui} = this.props;\n\n        return (\n            <Ui.Modal.Dialog>\n                <Ui.Form\n                    id={_.get(this.props.data, 'id')}\n                    api=\"/entities/webiny/i18n-texts\"\n                    fields=\"*,translations,group\"\n                    onSuccessMessage={() => this.i18n('Text was successfully saved!')}\n                    onSubmitSuccess={() => this.hide().then(this.props.onTextsSaved)}>\n                    {({model, form}) => {\n                        const id = _.get(this.props, 'data.id');\n                        return (\n                            <Ui.Modal.Content>\n                                <Ui.Form.Loader/>\n                                <Ui.Modal.Header title={id ? this.i18n('Edit Text') : this.i18n(`Create Text`)} onClose={this.hide}/>\n                                <Ui.Modal.Body>\n                                    <Ui.Form.Error/>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Input label={this.i18n('Key')} name=\"key\" validate=\"required\"/>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Textarea label={this.i18n('Base text')} name=\"base\" validate=\"required\"/>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Select\n                                                label={this.i18n('App')}\n                                                name=\"app\"\n                                                api=\"/services/webiny/apps\"\n                                                validate=\"required\"\n                                                url=\"/installed\"\n                                                textAttr=\"name\"\n                                                valueAttr=\"name\"\n                                                placeholder={this.i18n('Select an app...')}\n                                                allowClear/>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Select\n                                                filterBy=\"app\"\n                                                disabled={!model.app}\n                                                label={this.i18n('Text group')}\n                                                api=\"/entities/webiny/i18n-text-groups\"\n                                                name=\"group\"\n                                                textAttr=\"name\"\n                                                valueAttr=\"id\"\n                                                placeholder={this.i18n('Optional')}\n                                                allowClear/>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                </Ui.Modal.Body>\n                                <Ui.Modal.Footer >\n                                    <Ui.Button label={this.i18n('Cancel')} onClick={this.hide}/>\n                                    <Ui.Button type=\"primary\" label={this.i18n('Save')} onClick={form.submit}/>\n                                </Ui.Modal.Footer>\n                            </Ui.Modal.Content>\n                        )\n                    }}\n                </Ui.Form>\n            </Ui.Modal.Dialog>\n        );\n    }\n}\n\nTranslationModal.defaultProps = Webiny.Ui.ModalComponent.extendProps({\n    data: null,\n    onTextsSaved: _.noop\n});\n\nexport default Webiny.createComponent(TranslationModal, {\n    modulesProp: 'Ui',\n    modules: [\n        'Modal', 'Form', 'Grid', 'Input', 'Textarea', 'Button', 'Select', 'Section'\n    ]\n});\n"]}