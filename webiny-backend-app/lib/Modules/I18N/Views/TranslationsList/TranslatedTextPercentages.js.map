{"version":3,"sources":["../../../../../src/Modules/I18N/Views/TranslationsList/TranslatedTextPercentages.jsx"],"names":["TranslatedTextPercentages","locale","data","label","i18n","percentage","texts","total","count","toFixed","width","Ui","Component","defaultProps","renderer","props","translatedTextPercentages","translations","map","item","key","translatedTextPercentagesLocaleStats","renderProgressBar","createComponent","modulesProp","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEA;;;IAGMA,yB;;;;;;;;;;0CACgBC,M,EAAQC,I,EAAM;AAC5B,gBAAIC,QAAQ,KAAKC,IAAL,CAAU,KAAV,CAAZ;AACA,gBAAIC,aAAa,CAAjB;AACA,gBAAIH,KAAKI,KAAL,CAAWC,KAAf,EAAsB;AAClBF,6BAAa,CAACJ,OAAOO,KAAP,GAAeN,KAAKI,KAAL,CAAWC,KAA1B,GAAkC,GAAnC,EAAwCE,OAAxC,CAAgD,CAAhD,CAAb;AACAN,wBAAWF,OAAOO,KAAlB,WAA6BN,KAAKI,KAAL,CAAWC,KAAxC,UAAkDF,UAAlD;AACH;;AAED,mBACI;AAAA;AAAA;AACI,uDAAK,OAAO,EAACK,OAAOL,aAAa,GAArB,EAAZ,GADJ;AAEI;AAAA;AAAA;AAAQF;AAAR;AAFJ,aADJ;AAMH;;;EAfmC,qBAAOQ,EAAP,CAAUC,S;;AAkBlDZ,0BAA0Ba,YAA1B,GAAyC;AACrCC,YADqC,sBAC1B;AAAA;;AAAA,YACAH,EADA,GACM,KAAKI,KADX,CACAJ,EADA;;AAEP,eACI;AAAA;AAAA,cAAK,WAAW,oCAAIK,yBAApB;AACI,0CAAC,EAAD,CAAI,OAAJ,IAAY,OAAO,KAAKZ,IAAL,CAAU,cAAV,CAAnB,GADJ;AAEI;AAAC,kBAAD,CAAI,IAAJ;AAAA,kBAAS,KAAI,8CAAb;AACK;AAAA,wBAAEF,IAAF,QAAEA,IAAF;AAAA,2BACG;AAAC,0BAAD,CAAI,IAAJ,CAAS,GAAT;AAAA;AACKA,6BAAKe,YAAL,CAAkBC,GAAlB,CAAsB;AAAA,mCACnB;AAAC,kCAAD,CAAI,IAAJ,CAAS,GAAT;AAAA;AACI,yCAAKC,KAAKlB,MAAL,CAAYmB,GADrB;AAEI,+CAAW,oCAAIC,oCAFnB;AAGI,wCAAG,IAHP;AAII,wCAAG,GAJP;AAKI,wCAAG,GALP;AAMI,wCAAG,GANP;AAOI;AAAA;AAAA;AAASF,yCAAKlB,MAAL,CAAYE;AAArB,iCAPJ;AAQK,uCAAKmB,iBAAL,CAAuBH,IAAvB,EAA6BjB,IAA7B;AARL,6BADmB;AAAA,yBAAtB;AADL,qBADH;AAAA;AADL;AAFJ,SADJ;AAwBH;AA3BoC,CAAzC;;kBA8Be,qBAAOqB,eAAP,CAAuBvB,yBAAvB,EAAkD;AAC7DwB,iBAAa,IADgD;AAE7DC,aAAS,CAAC,MAAD,EAAS,MAAT,EAAiB,SAAjB;AAFoD,CAAlD,C","file":"TranslatedTextPercentages.js","sourcesContent":["import React from 'react';\nimport {Webiny} from 'webiny-client';\nimport css from './TranslatedTextPercentages.scss';\n\n/**\n * @i18n.namespace Webiny.Backend.I18n.TranslationsList.TranslatedTextPercentages\n */\nclass TranslatedTextPercentages extends Webiny.Ui.Component {\n    renderProgressBar(locale, data) {\n        let label = this.i18n('N/A');\n        let percentage = 0;\n        if (data.texts.total) {\n            percentage = (locale.count / data.texts.total * 100).toFixed(0);\n            label = `${locale.count} / ${data.texts.total} (${percentage}%)`;\n        }\n\n        return (\n            <progress-bar>\n                <bar style={{width: percentage + '%'}}/>\n                <label>{label}</label>\n            </progress-bar>\n        );\n    }\n}\n\nTranslatedTextPercentages.defaultProps = {\n    renderer() {\n        const {Ui} = this.props;\n        return (\n            <div className={css.translatedTextPercentages}>\n                <Ui.Section title={this.i18n('Translations')}/>\n                <Ui.Data api=\"/entities/webiny/i18n-texts/stats/translated\">\n                    {({data}) => (\n                        <Ui.Grid.Row>\n                            {data.translations.map(item => (\n                                <Ui.Grid.Col\n                                    key={item.locale.key}\n                                    className={css.translatedTextPercentagesLocaleStats}\n                                    xs=\"12\"\n                                    sm=\"6\"\n                                    md=\"4\"\n                                    lg=\"3\">\n                                    <strong>{item.locale.label}</strong>\n                                    {this.renderProgressBar(item, data)}\n                                </Ui.Grid.Col>\n                            ))}\n                        </Ui.Grid.Row>\n                    )}\n                </Ui.Data>\n            </div>\n\n        );\n    }\n};\n\nexport default Webiny.createComponent(TranslatedTextPercentages, {\n    modulesProp: 'Ui',\n    modules: ['Data', 'Grid', 'Section']\n});\n"]}