{"version":3,"sources":["../../../../../src/Modules/I18N/Views/LocalesList/LocalesModal.jsx"],"names":["LocalesModal","props","Button","Modal","Link","Grid","Form","Select","Switch","Section","Input","get","formats","I18n","getDefaultFormats","hide","then","onSubmitSuccess","apiResponse","model","form","id","url","i18n","date","Date","time","datetime","price","number","submit","Ui","ModalComponent","defaultProps","assign","noop","createComponent","modules"],"mappings":"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","file":"LocalesModal.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport {Webiny} from 'webiny-client';\n\n/**\n * @i18n.namespace Webiny.Backend.I18N.TextsList\n */\nclass LocalesModal extends Webiny.Ui.ModalComponent {\n    renderDialog() {\n        const {Button, Modal, Link, Grid, Form, Select, Switch, Section, Input} = this.props;\n\n        return (\n            <Modal.Dialog wide>\n                <Form\n                    id={_.get(this.props, 'data.id')}\n                    defaultModel={{formats: Webiny.I18n.getDefaultFormats()}}\n                    fields=\"key,label,formats,default,enabled\"\n                    api=\"/entities/webiny/i18n-locales\"\n                    onSubmitSuccess={apiResponse => this.hide().then(() => this.props.onSubmitSuccess(apiResponse))}\n                    onSuccessMessage={null}>\n                    {({model, form}) => {\n                        const id = _.get(this.props, 'data.id');\n                        const url = id ? `/available/${id}` : '/available';\n                        return (\n                            <Modal.Content>\n                                <Form.Loader/>\n                                <Modal.Header title={id ? this.i18n('Edit Locale') : this.i18n('Create Locale')} onClose={this.hide}/>\n                                <Modal.Body>\n                                    <Form.Error/>\n                                    <Grid.Row>\n                                        <Grid.Col all={12}>\n                                            <Select\n                                                label={this.i18n('Locale')}\n                                                description={this.i18n(`Already added locales are not listed.`)}\n                                                placeholder={this.i18n('Select locale to add...')}\n                                                name=\"key\"\n                                                validate=\"required\"\n                                                api=\"/entities/webiny/i18n-locales\"\n                                                url={url}/>\n                                        </Grid.Col>\n                                        <Grid.Col all={5}>\n                                            <Switch\n                                                description={this.i18n('Only one locale can be set as default.')}\n                                                label={this.i18n('Default')}\n                                                name=\"default\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={5}>\n                                            <Switch\n                                                description={this.i18n('Set whether or not this locale is available for the public.')}\n                                                label={this.i18n('Enabled')}\n                                                name=\"enabled\"/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n                                    <Section title={this.i18n('Dates')}/>\n                                    <Grid.Row>\n                                        <Grid.Col all={7}>\n                                            <Input label={this.i18n('Date')} name=\"formats.date\" placeholder={this.i18n('eg. d/m/Y')}/>\n                                        </Grid.Col>\n                                        <Grid.Col all={5}>\n                                            <Input\n                                                disabled\n                                                label={this.i18n('Preview')}\n                                                value={Webiny.I18n.date(new Date(), model.formats.date)}\n                                                placeholder={this.i18n('Type format to see example.')}/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n                                    <Grid.Row>\n                                        <Grid.Col all={7}>\n                                            <Input label={this.i18n('Time')} name=\"formats.time\" placeholder={this.i18n('eg. h:i')}/>\n                                        </Grid.Col>\n                                        <Grid.Col all={5}>\n                                            <Input\n                                                disabled\n                                                label={this.i18n('Preview')}\n                                                value={Webiny.I18n.time(new Date(), model.formats.time)}\n                                                placeholder={this.i18n('Type format to see example.')}/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n                                    <Grid.Row>\n                                        <Grid.Col all={7}>\n                                            <Input\n                                                label={this.i18n('Date/Time')}\n                                                name=\"formats.datetime\"\n                                                placeholder={this.i18n('eg. d/m/Y h:i')}/>\n                                        </Grid.Col>\n                                        <Grid.Col all={5}>\n                                            <Input\n                                                disabled\n                                                label={this.i18n('Preview')}\n                                                value={Webiny.I18n.datetime(new Date(), model.formats.datetime)}\n                                                placeholder={this.i18n('Type format to see example.')}/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n                                    <Section title={this.i18n('Prices')}/>\n                                    <Grid.Row>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                tooltip={this.i18n('Use {value} and {symbol} placeholders to define output.')}\n                                                label={this.i18n('Format')}\n                                                placeholder={this.i18n('eg. \"{value}{symbol}\"')}\n                                                name=\"formats.price.format\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Symbol')}\n                                                placeholder={this.i18n('eg. \"$\"')}\n                                                name=\"formats.price.symbol\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Decimal')}\n                                                placeholder={this.i18n('eg. \".\"')}\n                                                name=\"formats.price.decimal\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Thousand')}\n                                                placeholder={this.i18n('eg. \",\"')}\n                                                name=\"formats.price.thousand\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Precision')}\n                                                placeholder={this.i18n('eg. \"2\"')}\n                                                name=\"formats.price.precision\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                disabled\n                                                label={this.i18n('Preview')}\n                                                value={Webiny.I18n.price(12345.67, model.formats.price)}\n                                                placeholder={this.i18n('Type format to see example.')}/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n\n                                    <Section title={this.i18n('Numbers')}/>\n                                    <Grid.Row>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Decimal')}\n                                                placeholder={this.i18n('eg. \".\"')}\n                                                name=\"formats.number.decimal\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Thousand')}\n                                                placeholder={this.i18n('eg. \",\"')}\n                                                name=\"formats.number.thousand\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                label={this.i18n('Precision')}\n                                                placeholder={this.i18n('eg. \"2\"')}\n                                                name=\"formats.number.precision\"/>\n                                        </Grid.Col>\n                                        <Grid.Col all={2}>\n                                            <Input\n                                                disabled\n                                                label={this.i18n('Preview')}\n                                                value={Webiny.I18n.number(12345.67, model.formats.number)}\n                                                placeholder={this.i18n('Type format to see example.')}/>\n                                        </Grid.Col>\n                                    </Grid.Row>\n\n                                </Modal.Body>\n                                <Modal.Footer>\n                                    <Button label={this.i18n('Cancel')} onClick={this.hide}/>\n                                    <Button type=\"primary\" label={this.i18n('Save')} onClick={form.submit}/>\n                                </Modal.Footer>\n                            </Modal.Content>\n                        );\n                    }}\n                </Form>\n                )}\n            </Modal.Dialog>\n        );\n    }\n}\n\nLocalesModal.defaultProps = _.assign({}, Webiny.Ui.ModalComponent.defaultProps, {\n    onSubmitSuccess: _.noop,\n});\n\nexport default Webiny.createComponent(LocalesModal, {\n    modules: ['Button', 'Modal', 'Link', 'Grid', 'Form', 'Select', 'Switch', 'Section', 'Input']\n});"]}