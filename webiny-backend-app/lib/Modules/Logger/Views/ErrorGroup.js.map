{"version":3,"sources":["../../../../src/Modules/Logger/Views/ErrorGroup.jsx"],"names":["ErrorGroup","Ui","View","defaultProps","renderer","statProps","api","query","errorGroup","props","id","fields","layout","ErrorDetails","js","php","list","meta","map","row","url","date","createElement","type","errorEntry","i18n","resolveError","parentList"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;IAGMA,U;;;;;;;;;EAAmB,qBAAOC,EAAP,CAAUC,I;;AAInCF,WAAWG,YAAX,GAA0B;AACtBC,YADsB,sBACX;AAAA;;AACP,YAAMC,YAAY;AACdC,iBAAK,+BADS;AAEdC,mBAAO,EAACC,YAAY,KAAKC,KAAL,CAAWD,UAAX,CAAsBE,EAAnC,EAAuC,SAAS,YAAhD,EAFO;AAGdC,oBAAQ,GAHM;AAIdC,oBAAQ;AAJM,SAAlB;;AAOA,YAAMC,eAAe;AACjBC,wCADiB;AAEjBC,0CAFiB;AAGjBT;AAHiB,SAArB;;AAMA,eACI;AAAA,iCAAQ,EAAR,CAAW,QAAX;AAAA,cAAoB,SAAS,CAAC,MAAD,EAAS,gBAAT,EAA2B,SAA3B,CAA7B;AACK,sBAACL,EAAD;AAAA,uBACG;AAAC,sBAAD,CAAI,IAAJ;AAAaI,6BAAb;AACK;AAAA,4BAAEW,IAAF,QAAEA,IAAF;AAAA,4BAAQC,IAAR,QAAQA,IAAR;AAAA,+BACG;AAAC,8BAAD,CAAI,cAAJ;AAAA;AACKD,iCAAKE,GAAL,CAAS,eAAO;AACb,uCACI;AAAC,sCAAD,CAAI,cAAJ,CAAmB,GAAnB;AAAA,sCAAuB,KAAKC,IAAIT,EAAhC;AACI;AAAC,0CAAD,CAAI,cAAJ,CAAmB,KAAnB;AAAA,0CAAyB,OAAO,CAAhC;AACKS,4CAAIC;AADT,qCADJ;AAII;AAAC,0CAAD,CAAI,cAAJ,CAAmB,KAAnB;AAAA,0CAAyB,OAAO,CAAhC;AACI,sEAAC,EAAD,CAAI,OAAJ,CAAY,QAAZ,IAAqB,OAAOD,IAAIE,IAAhC;AADJ,qCAJJ;AAQI;AAAC,0CAAD,CAAI,cAAJ,CAAmB,iBAAnB;AAAA,0CAAqC,OAAOF,IAAIC,GAAhD;AACK,wDAAME,aAAN,CAAoBT,aAAa,OAAKJ,KAAL,CAAWD,UAAX,CAAsBe,IAAnC,CAApB,EAA8D,EAACC,YAAYL,GAAb,EAA9D;AADL,qCARJ;AAYI;AAAC,0CAAD,CAAI,cAAJ,CAAmB,SAAnB;AAAA;AACI,sEAAC,EAAD,CAAI,cAAJ,CAAmB,MAAnB;AACI,mDAAO,OAAKM,IAAL,CAAU,cAAV,CADX;AAEI,kDAAK,YAFT;AAGI,qDAAS;AAAA,uDAAM,OAAKhB,KAAL,CAAWiB,YAAX,CAAwBP,GAAxB,EAA6BH,IAA7B,EAAmC,OAAKP,KAAL,CAAWkB,UAA9C,CAAN;AAAA,6CAHb;AADJ;AAZJ,iCADJ;AAsBH,6BAvBA;AADL,yBADH;AAAA;AADL,iBADH;AAAA;AADL,SADJ;AAoCH;AAnDqB,CAA1B;;kBAsDe3B,U","file":"ErrorGroup.js","sourcesContent":["import React from 'react';\nimport {Webiny} from 'webiny-client';\nimport ErrorDetailsJs from './ErrorDetailsJs';\nimport ErrorDetailsApi from './ErrorDetailsApi';\nimport ErrorDetailsPhp from './ErrorDetailsPhp';\n\n/**\n * @i18n.namespace Webiny.Backend.Logger.ErrorGroup\n */\nclass ErrorGroup extends Webiny.Ui.View {\n\n}\n\nErrorGroup.defaultProps = {\n    renderer() {\n        const statProps = {\n            api: '/entities/webiny/logger-entry',\n            query: {errorGroup: this.props.errorGroup.id, '_sort': '-createdOn'},\n            fields: '*',\n            layout: null\n        };\n\n        const ErrorDetails = {\n            js: ErrorDetailsJs,\n            php: ErrorDetailsPhp,\n            api: ErrorDetailsApi\n        };\n\n        return (\n            <Webiny.Ui.LazyLoad modules={['List', 'ExpandableList', 'Filters']}>\n                {(Ui) => (\n                    <Ui.List {...statProps}>\n                        {({list, meta}) => (\n                            <Ui.ExpandableList>\n                                {list.map(row => {\n                                    return (\n                                        <Ui.ExpandableList.Row key={row.id}>\n                                            <Ui.ExpandableList.Field width={6}>\n                                                {row.url}\n                                            </Ui.ExpandableList.Field>\n                                            <Ui.ExpandableList.Field width={4}>\n                                                <Ui.Filters.DateTime value={row.date}/>\n                                            </Ui.ExpandableList.Field>\n\n                                            <Ui.ExpandableList.RowDetailsContent title={row.url}>\n                                                {React.createElement(ErrorDetails[this.props.errorGroup.type], {errorEntry: row})}\n                                            </Ui.ExpandableList.RowDetailsContent>\n\n                                            <Ui.ExpandableList.ActionSet>\n                                                <Ui.ExpandableList.Action\n                                                    label={this.i18n('Resolve Item')}\n                                                    icon=\"icon-check\"\n                                                    onClick={() => this.props.resolveError(row, list, this.props.parentList)}/>\n                                            </Ui.ExpandableList.ActionSet>\n\n                                        </Ui.ExpandableList.Row>\n                                    );\n                                })}\n                            </Ui.ExpandableList>\n                        )}\n                    </Ui.List>\n                )}\n            </Webiny.Ui.LazyLoad>\n        );\n    }\n};\n\nexport default ErrorGroup;"]}