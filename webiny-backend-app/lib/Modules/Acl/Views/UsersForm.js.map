{"version":3,"sources":["../../../../src/Modules/Acl/Views/UsersForm.jsx"],"names":["UsersForm","Ui","View","defaultProps","renderer","formProps","api","Auth","getApiEndpoint","fields","connectToRouter","onSubmitSuccess","refresh","Router","goToRoute","onCancel","onSuccessMessage","model","i18n","user","firstName","props","form","id","cancel","submit","createComponent","modulesProp","modules","UserRoles","UserRoleGroups"],"mappings":"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","file":"UsersForm.js","sourcesContent":["import React from 'react';\nimport {Webiny} from 'webiny-client';\n\n/**\n * @i18n.namespace Webiny.Backend.Acl.UsersForm\n */\nclass UsersForm extends Webiny.Ui.View {\n}\n\nUsersForm.defaultProps = {\n    renderer() {\n        const formProps = {\n            api: Webiny.Auth.getApiEndpoint(),\n            fields: 'id,firstName,lastName,email,roles,roleGroups,enabled',\n            connectToRouter: true,\n            onSubmitSuccess: () => {\n                Webiny.Auth.refresh();\n                Webiny.Router.goToRoute('Users.List');\n            },\n            onCancel: 'Users.List',\n            onSuccessMessage: ({model}) => {\n                return <span>{this.i18n('User {user} was saved successfully!', {user: <strong>{model.firstName}</strong>})}</span>;\n            }\n        };\n\n        const {Ui} = this.props;\n\n        return (\n            <Ui.Form {...formProps}>\n                {({model, form}) => (\n                    <Ui.View.Form>\n                        <Ui.View.Header title={model.id ? this.i18n('ACL - Edit User') : this.i18n('ACL - Create User')}/>\n                        <Ui.Form.Error message={this.i18n('Something went wrong during save')}/>\n                        <Ui.View.Body>\n                            <Ui.Grid.Row>\n                                <Ui.Grid.Col all={6}>\n                                    <Ui.Section title={this.i18n('Info')}/>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Input label={this.i18n('First name')} name=\"firstName\" validate=\"required\"/>\n                                            <Ui.Input label={this.i18n('Last name')} name=\"lastName\" validate=\"required\"/>\n                                            <Ui.Input\n                                                label={this.i18n('Email')}\n                                                name=\"email\"\n                                                description={this.i18n('Your email')}\n                                                validate=\"required,email\"/>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                </Ui.Grid.Col>\n                                <Ui.Grid.Col all={6}>\n                                    <Ui.Section title={this.i18n('Password')}/>\n                                    <Ui.Grid.Row>\n                                        <Ui.Grid.Col all={12}>\n                                            <Ui.Password\n                                                label={this.i18n('New password')}\n                                                name=\"password\"\n                                                placeholder={this.i18n('Type a new password')}/>\n                                            <Ui.Password\n                                                label={this.i18n('Confirm password')}\n                                                name=\"confirmPassword\"\n                                                validate=\"eq:@password\"\n                                                placeholder={this.i18n('Retype the new password')}>\n                                                <validator name=\"eq\">{this.i18n('Passwords do not match')}</validator>\n                                            </Ui.Password>\n                                        </Ui.Grid.Col>\n                                    </Ui.Grid.Row>\n                                </Ui.Grid.Col>\n                            </Ui.Grid.Row>\n                            <Ui.Grid.Row>\n                                <Ui.Grid.Col all={12}>\n                                    <Ui.Switch label={this.i18n('Enabled')} name=\"enabled\"/>\n                                </Ui.Grid.Col>\n                            </Ui.Grid.Row>\n                            <Ui.Grid.Row>\n                                <Ui.Grid.Col all={12}>\n                                    <Ui.Tabs>\n                                        <Ui.Tabs.Tab label={this.i18n('Roles')} icon=\"fa-user\">\n                                            <Ui.UserRoles name=\"roles\"/>\n                                        </Ui.Tabs.Tab>\n                                        <Ui.Tabs.Tab label={this.i18n('Role Groups')} icon=\"fa-users\">\n                                            <Ui.UserRoleGroups name=\"roleGroups\"/>\n                                        </Ui.Tabs.Tab>\n                                    </Ui.Tabs>\n                                </Ui.Grid.Col>\n                            </Ui.Grid.Row>\n                        </Ui.View.Body>\n                        <Ui.View.Footer>\n                            <Ui.Button type=\"default\" onClick={form.cancel} label={this.i18n('Go back')}/>\n                            <Ui.Button type=\"primary\" onClick={form.submit} label={this.i18n('Save user')} align=\"right\"/>\n                        </Ui.View.Footer>\n                    </Ui.View.Form>\n                )}\n            </Ui.Form>\n        );\n    }\n};\n\nexport default Webiny.createComponent(UsersForm, {\n    modulesProp: 'Ui',\n    modules: ['View', 'Form', 'Grid', 'Tabs', 'Input', 'Password', 'Switch', 'Button', 'Section', {\n        UserRoles: 'Webiny/Backend/UserRoles',\n        UserRoleGroups: 'Webiny/Backend/UserRoleGroups'\n    }]\n});\n"]}