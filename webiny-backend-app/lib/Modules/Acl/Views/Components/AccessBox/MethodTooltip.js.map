{"version":3,"sources":["../../../../../../src/Modules/Acl/Views/Components/AccessBox/MethodTooltip.jsx"],"names":["MethodTooltip","Ui","Component","defaultProps","method","renderer","props","Link","currentlyEditingPermission","detailsTooltip","name","description","public","publicMethod","i18n","methodBox","path","isEmpty","usages","total","length","usagesTable","map","permission","id","classSet","moreRoles","roles","role","createComponent","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;;;IAEMA,a;;;;;;;;;EAAsB,qBAAOC,EAAP,CAAUC,S;;AAGtC;;;;;AAGAF,cAAcG,YAAd,GAA6B;AACzBC,YAAQ,IADiB;AAEzBC,YAFyB,sBAEd;AAAA;;AAAA,qBAC4C,KAAKC,KADjD;AAAA,YACAC,IADA,UACAA,IADA;AAAA,YACMH,MADN,UACMA,MADN;AAAA,YACcI,0BADd,UACcA,0BADd;;AAEP,eACI;AAAA;AAAA,cAAK,WAAW,iBAAOC,cAAvB;AACKL,mBAAOM,IAAP,IAAeN,OAAOO,WAAtB,IACG;AAAA;AAAA;AACI;AAAA;AAAA;AACKP,2BAAOM,IADZ;AAAA;AACmBN,2BAAOQ,MAAP,IAAiB;AAAA;AAAA,0BAAM,WAAW,iBAAOC,YAAxB;AAAuC,6BAAKC,IAAL;AAAvC;AADpC,iBADJ;AAIKV,uBAAOO,WAAP,IAAsB;AAAA;AAAA;AAAMP,2BAAOO;AAAb,iBAJ3B;AAKI;AALJ,aAFR;AAWI;AAAA;AAAA;AAAK,qBAAKG,IAAL;AAAL,aAXJ;AAYI;AAAA;AAAA;AACI;AAAA;AAAA,sBAAK,WAAW,iBAAOC,SAAvB;AAAmCX,2BAAOA;AAA1C,iBADJ;AAEKA,uBAAOY;AAFZ,aAZJ;AAgBI,qDAhBJ;AAkBK,6BAAEC,OAAF,CAAUb,OAAOc,MAAjB,IACG;AAAA;AAAA;AACI;AAAA;AAAA;AAAK,yBAAKJ,IAAL;AAAL,iBADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAFJ,aADH,GAQG;AAAA;AAAA;AACI;AAAA;AAAA;AAAK,yBAAKA,IAAL,sBAA+B,EAACK,OAAOf,OAAOc,MAAP,CAAcE,MAAtB,EAA/B;AAAL,iBADJ;AAEI;AAAA;AAAA;AACI;AAAA;AAAA,0BAAO,WAAW,iBAAOC,WAAzB;AACI;AAAA;AAAA;AACA;AAAA;AAAA;AACI;AAAA;AAAA;AAAK,yCAAKP,IAAL;AAAL,iCADJ;AAEI;AAAA;AAAA;AAAK,yCAAKA,IAAL;AAAL;AAFJ;AADA,yBADJ;AAOI;AAAA;AAAA;AACCV,mCAAOc,MAAP,CAAcI,GAAd,CAAkB;AAAA,uCACf;AAAA;AAAA,sCAAI,KAAKC,WAAWC,EAApB;AACI;AAAA;AAAA;AACKD,mDAAWC,EAAX,KAAkBhB,2BAA2BgB,EAA7C,GACG;AAAA;AAAA;AAAOD,uDAAWb;AAAlB,yCADH,GAGG;AAAC,gDAAD;AAAA;AACI,8DADJ;AAEI,uDAAM,sBAFV;AAGI,wDAAQ,EAACc,IAAID,WAAWC,EAAhB,EAHZ;AAIKD,uDAAWb;AAJhB;AAJR,qCADJ;AAaI;AAAA;AAAA,0CAAI,WAAW,OAAKe,QAAL,mCAAgB,iBAAOC,SAAvB,EAAmC,IAAnC,EAAf;AACKH,mDAAWI,KAAX,CAAiBL,GAAjB,CAAqB;AAAA,mDAClB;AAAC,oDAAD;AAAA;AACI,kEADJ;AAEI,yDAAKM,KAAKJ,EAFd;AAGI,2DAAM,gBAHV;AAII,4DAAQ,EAACA,IAAII,KAAKJ,EAAV,EAJZ;AAKKI,qDAAKlB;AALV,6CADkB;AAAA,yCAArB;AADL;AAbJ,iCADe;AAAA,6BAAlB;AADD;AAPJ;AADJ;AAFJ;AA1BR,SADJ;AAyEH;AA7EwB,CAA7B;;kBAgFe,qBAAOmB,eAAP,CAAuB7B,aAAvB,EAAsC;AACjD8B,aAAS,CAAC,MAAD;AADwC,CAAtC,C","file":"MethodTooltip.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport {Webiny} from 'webiny-client';\nimport styles from './styles.css';\n\nclass MethodTooltip extends Webiny.Ui.Component {\n}\n\n/**\n * @i18n.namespace Webiny.Backend.Acl.MethodTooltip\n */\nMethodTooltip.defaultProps = {\n    method: null,\n    renderer() {\n        const {Link, method, currentlyEditingPermission} = this.props;\n        return (\n            <div className={styles.detailsTooltip}>\n                {method.name && method.description && (\n                    <tooltip-header>\n                        <h3>\n                            {method.name} {method.public && <span className={styles.publicMethod}>{this.i18n(`(public)`)}</span>}\n                        </h3>\n                        {method.description && <div>{method.description}</div>}\n                        <br/>\n                    </tooltip-header>\n                )}\n\n                <h3>{this.i18n(`Execution:`)}</h3>\n                <div>\n                    <div className={styles.methodBox}>{method.method}</div>\n                    {method.path}\n                </div>\n                <br/>\n\n                {_.isEmpty(method.usages) ? (\n                    <wrapper>\n                        <h3>{this.i18n(`Usages`)}</h3>\n                        <div>\n                            No usages.\n                        </div>\n                    </wrapper>\n                ) : (\n                    <wrapper>\n                        <h3>{this.i18n(`Usages ({total}):`, {total: method.usages.length})}</h3>\n                        <div>\n                            <table className={styles.usagesTable}>\n                                <thead>\n                                <tr>\n                                    <th>{this.i18n(`Permission`)}</th>\n                                    <th>{this.i18n(`Roles`)}</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {method.usages.map(permission => (\n                                    <tr key={permission.id}>\n                                        <td>\n                                            {permission.id === currentlyEditingPermission.id ? (\n                                                <span>{permission.name}</span>\n                                            ) : (\n                                                <Link\n                                                    separate\n                                                    route=\"UserPermissions.Edit\"\n                                                    params={{id: permission.id}}>\n                                                    {permission.name}\n                                                </Link>\n                                            )}\n                                        </td>\n                                        <td className={this.classSet({[styles.moreRoles]: true})}>\n                                            {permission.roles.map(role => (\n                                                <Link\n                                                    separate\n                                                    key={role.id}\n                                                    route=\"UserRoles.Edit\"\n                                                    params={{id: role.id}}>\n                                                    {role.name}\n                                                </Link>\n                                            ))}\n                                        </td>\n                                    </tr>\n                                ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </wrapper>\n                )}\n\n            </div>\n        );\n    }\n};\n\nexport default Webiny.createComponent(MethodTooltip, {\n    modules: ['Link']\n});"]}