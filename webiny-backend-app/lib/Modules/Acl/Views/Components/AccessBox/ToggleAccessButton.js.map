{"version":3,"sources":["../../../../../../src/Modules/Acl/Views/Components/AccessBox/ToggleAccessButton.jsx"],"names":["crudLabels","ToggleAccessButton","props","label","key","method","Ui","Component","defaultProps","value","onClick","noop","renderer","Button","toggleAccessButtonWrapper","ref","public","classSet","toggleAccessButton","toggleAccessButtonPublic","i18n","querySelector","blur","toggleAccessButtonExposed","renderLabel","createComponent","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAMA,aAAa;AACf,cAAU,GADK;AAEf,gBAAY,GAFG;AAGf,aAAS,GAHM;AAIf,kBAAc,GAJC;AAKf,mBAAe;AALA,CAAnB;;AAQA;;;;IAGMC,kB;;;;;;;;;;sCACY;AACV,gBAAI,KAAKC,KAAL,CAAWC,KAAf,EAAsB;AAClB,uBAAO,KAAKD,KAAL,CAAWC,KAAlB;AACH;;AAED,gBAAMC,MAAM,KAAKF,KAAL,CAAWG,MAAX,CAAkBD,GAA9B;AACA,mBAAOJ,WAAWI,GAAX,KAAmB,GAA1B;AACH;;;EAR4B,qBAAOE,EAAP,CAAUC,S;;AAW3CN,mBAAmBO,YAAnB,GAAkC;AAC9BL,WAAO,IADuB;AAE9BE,YAAQ,IAFsB;AAG9BI,WAAO,KAHuB;AAI9BC,aAAS,iBAAEC,IAJmB;AAK9BC,YAL8B,sBAKnB;AAAA;;AAAA,qBACkC,KAAKV,KADvC;AAAA,YACAW,MADA,UACAA,MADA;AAAA,YACQR,MADR,UACQA,MADR;AAAA,YACgBK,QADhB,UACgBA,OADhB;AAAA,YACyBD,KADzB,UACyBA,KADzB;;AAEP,eACI;AAAA;AAAA,cAAK,WAAW,iBAAOK,yBAAvB,EAAkD,KAAK;AAAA,2BAAO,OAAKC,GAAL,GAAWA,IAAlB;AAAA,iBAAvD;AACKV,mBAAOW,MAAP,GACG;AAAC,sBAAD;AAAA,kBAAQ,MAAK,SAAb,EAAuB,WAAW,KAAKC,QAAL,CAAc,iBAAOC,kBAArB,EAAyC,iBAAOC,wBAAhD,CAAlC;AACK,qBAAKC,IAAL;AADL,aADH,GAKG;AAAC,sBAAD;AAAA;AACI,0BAAK,SADT;AAEI,6BAAS,mBAAM;AACX,+BAAKL,GAAL,CAASM,aAAT,CAAuB,QAAvB,EAAiCC,IAAjC;AACAZ;AACH,qBALL;AAMI,+BAAW,KAAKO,QAAL,CAAc,iBAAOC,kBAArB,oCAA2C,iBAAOK,yBAAlD,EAA8Ed,KAA9E,EANf;AAOK,qBAAKe,WAAL;AAPL;AANR,SADJ;AAmBH;AA1B6B,CAAlC;;kBA6Be,qBAAOC,eAAP,CAAuBxB,kBAAvB,EAA2C;AACtDyB,aAAS,CAAC,QAAD;AAD6C,CAA3C,C","file":"ToggleAccessButton.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport {Webiny} from 'webiny-client';\nimport styles from './styles.css';\n\nconst crudLabels = {\n    '/.post': 'C',\n    '{id}.get': 'R',\n    '/.get': 'R',\n    '{id}.patch': 'U',\n    '{id}.delete': 'D'\n};\n\n/**\n * @i18n.namespace Webiny.Backend.Acl.ToggleAccessButton\n */\nclass ToggleAccessButton extends Webiny.Ui.Component {\n    renderLabel() {\n        if (this.props.label) {\n            return this.props.label;\n        }\n\n        const key = this.props.method.key;\n        return crudLabels[key] || 'E';\n    }\n}\n\nToggleAccessButton.defaultProps = {\n    label: null,\n    method: null,\n    value: false,\n    onClick: _.noop,\n    renderer() {\n        const {Button, method, onClick, value} = this.props;\n        return (\n            <div className={styles.toggleAccessButtonWrapper} ref={ref => this.ref = ref}>\n                {method.public ? (\n                    <Button type=\"primary\" className={this.classSet(styles.toggleAccessButton, styles.toggleAccessButtonPublic)}>\n                        {this.i18n(`P`)}\n                    </Button>\n                ) : (\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            this.ref.querySelector('button').blur();\n                            onClick();\n                        }}\n                        className={this.classSet(styles.toggleAccessButton, {[styles.toggleAccessButtonExposed]: value})}>\n                        {this.renderLabel()}\n                    </Button>\n                )}\n            </div>\n        );\n    }\n};\n\nexport default Webiny.createComponent(ToggleAccessButton, {\n    modules: ['Button']\n});\n"]}