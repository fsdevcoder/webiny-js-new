{"version":3,"sources":["../../../../src/Modules/Marketplace/Views/LoginRegister.jsx"],"names":["LoginRegister","props","bindMethods","loginModal","show","registerModal","forgotPasswordModal","Ui","View","defaultProps","renderer","styles","Button","Icon","Form","Input","Grid","Password","Link","childProps","showLogin","showRegister","showForgotPassword","onUser","formProps","api","url","onSubmitSuccess","apiResponse","getData","onSuccessMessage","cantRemember","classSet","form","loginRegister","message","i18n","loginForm","submit","modalAction","actions","signupLink","ref","createComponent","modules"],"mappings":"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","file":"LoginRegister.js","sourcesContent":["import React from 'react';\nimport {Webiny} from 'webiny-client';\nimport styles from './styles.css';\nimport RegisterModal from './../Components/RegisterModal'\nimport ForgotPasswordModal from './../Components/ForgotPasswordModal'\n\n/**\n * @i18n.namespace Webiny.Backend.Marketplace.LoginRegister\n */\nclass LoginRegister extends Webiny.Ui.View {\n    constructor(props) {\n        super(props);\n\n        this.bindMethods('showLogin,showRegister,showForgotPassword');\n    }\n\n    showLogin() {\n        this.loginModal.show();\n    }\n\n    showRegister() {\n        this.registerModal.show();\n    }\n\n    showForgotPassword() {\n        this.forgotPasswordModal.show();\n    }\n}\n\nLoginRegister.defaultProps = {\n    renderer() {\n        const {styles, Button, Icon, Form, Input, Grid, Password, Link} = this.props;\n\n        const childProps = {\n            showLogin: this.showLogin,\n            showRegister: this.showRegister,\n            showForgotPassword: this.showForgotPassword,\n            onUser: this.props.onUser\n        };\n\n        const formProps = {\n            api: '/services/webiny/marketplace',\n            url: 'login',\n            onSubmitSuccess: ({apiResponse}) => this.props.onUser(apiResponse.getData()),\n            onSuccessMessage: null\n        };\n\n        const cantRemember = (\n            <Link className={this.classSet(styles.cantRemember, 'small')} onClick={this.showForgotPassword}>I CAN'T REMEMBER</Link>\n        );\n\n        return (\n            <Form {...formProps}>\n                {({form}) => (\n                    <div className={styles.loginRegister}>\n                        <div className={styles.message}>\n                            <h2><Icon icon=\"icon-basket_n\"/> {this.i18n('Webiny Marketplace')}</h2>\n                            <h3>{this.i18n('Find and Install Apps for Webiny')}</h3>\n                            <p>\n                                {this.i18n('Access to the marketplace requires a Webiny.com profile.')}<br/>\n                                {this.i18n('If you already have a profile, please sign-in, otherwise please register.')}\n                            </p>\n                            <div className={styles.loginForm}>\n                                <Grid.Row>\n                                    <Form.Loader/>\n                                    <Grid.Col all={12}>\n                                        <Form.Error/>\n                                        <Input\n                                            placeholder={this.i18n('Email')}\n                                            label={this.i18n('Email')}\n                                            name=\"username\"\n                                            validate=\"required, email\"\n                                            onEnter={form.submit}/>\n                                    </Grid.Col>\n                                    <Grid.Col all={12}>\n                                        <Password\n                                            label={this.i18n('Password')}\n                                            placeholder={this.i18n('Password')}\n                                            name=\"password\"\n                                            validate=\"required\"\n                                            onEnter={form.submit}\n                                            description={cantRemember}/>\n                                    </Grid.Col>\n                                    <Grid.Col all={12} className={styles.modalAction}>\n                                        <Button\n                                            type=\"primary\"\n                                            onClick={form.submit}\n                                            size=\"large\"\n                                            icon=\"icon-next\"\n                                            label={this.i18n('Sign In')}/>\n                                    </Grid.Col>\n                                </Grid.Row>\n                            </div>\n                            <div className={styles.actions}>\n                                <div className=\"text-center\">\n                                    {this.i18n('Not a member? {signupLink}', {\n                                        signupLink: <Link onClick={this.showRegister}><br/>Sign up here</Link>\n                                    })}\n                                </div>\n                            </div>\n                        </div>\n                        <RegisterModal {...childProps} ref={ref => this.registerModal = ref}/>\n                        <ForgotPasswordModal {...childProps} ref={ref => this.forgotPasswordModal = ref}/>\n                    </div>\n                )}\n            </Form>\n        );\n    }\n};\n\nexport default Webiny.createComponent(LoginRegister, {styles, modules: ['Button', 'Icon', 'Form', 'Input', 'Grid', 'Password', 'Link']});"]}