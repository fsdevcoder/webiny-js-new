{"version":3,"sources":["../src/app.js"],"names":["next","app","services","register","CMS","cmsService","get","addWidget","type","widget","ParagraphPreviewWidget","ImagePreviewWidget","router","addRoute","name","path"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,YAAM;AACjB,WAAO,gBAAUA,IAAV,EAAmB;AAAA,YAAhBC,GAAgB,QAAhBA,GAAgB;;AACtBA,YAAIC,QAAJ,CAAaC,QAAb,CAAsB,KAAtB,EAA6B;AAAA,mBAAM,IAAIC,aAAJ,EAAN;AAAA,SAA7B;;AAEA,YAAMC,aAAaJ,IAAIC,QAAJ,CAAaI,GAAb,CAAiB,KAAjB,CAAnB;;AAEA;AACAD,mBAAWE,SAAX,CAAqB;AACjBC,kBAAM,WADW;AAEjBC,oBAAQ,IAAIC,mBAAJ;AAFS,SAArB;AAIAL,mBAAWE,SAAX,CAAqB;AACjBC,kBAAM,OADW;AAEjBC,oBAAQ,IAAIE,eAAJ;AAFS,SAArB;;AAKAV,YAAIW,MAAJ,CAAWC,QAAX,CAAoB;AAChBC,kBAAM,YADU;AAEhBC,kBAAM;AAFU,SAApB;;AAKAf;AACH,KArBD;AAsBH,C","file":"app.js","sourcesContent":["import ParagraphPreviewWidget from \"./widgets/paragraph\";\nimport ImagePreviewWidget from \"./widgets/image\";\nimport CMS from \"./services/CMS\";\n\nexport default () => {\n    return ({ app }, next) => {\n        app.services.register(\"cms\", () => new CMS());\n\n        const cmsService = app.services.get(\"cms\");\n\n        // Render widgets\n        cmsService.addWidget({\n            type: \"paragraph\",\n            widget: new ParagraphPreviewWidget()\n        });\n        cmsService.addWidget({\n            type: \"image\",\n            widget: new ImagePreviewWidget()\n        });\n\n        app.router.addRoute({\n            name: \"CmsPreview\",\n            path: \"/cms/preview/:revision\"\n        });\n\n        next();\n    };\n};\n"]}