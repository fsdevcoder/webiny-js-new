{"version":3,"sources":["../../src/render/widgetRender.js"],"names":["defaultWidgetRender","widget","cms","services","get","widgetDefinition","getWidget","type","React","cloneElement","render","value","defaultWidgetRenderMiddleware","params","next","output"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEA;;;AAGO,IAAMA,oDAAsB,SAAtBA,mBAAsB,OAAgB;AAAA,QAAbC,MAAa,QAAbA,MAAa;;AAC/C,QAAMC,MAAM,eAAIC,QAAJ,CAAaC,GAAb,CAAiB,KAAjB,CAAZ;;AAEA,QAAMC,mBAAmBH,IAAII,SAAJ,CAAcL,OAAOM,IAArB,CAAzB;AACA,6BAAUF,gBAAV,4CAAmEJ,OAAOM,IAA1E;;AAEA,WAAOC,MAAMC,YAAN,CAAmBJ,iBAAiBK,MAAjB,CAAwBT,MAAxB,CAAnB,EAAoD,EAAEU,OAAOV,MAAT,EAApD,CAAP;AACH,CAPM;;AASP;;;;AAIO,IAAMW,wEAAgC,SAAhCA,6BAAgC,CAACC,MAAD,EAAiBC,IAAjB,EAAoC;AAC7E,QAAID,OAAOE,MAAX,EAAmB;AACf,eAAOD,MAAP;AACH;AACDD,WAAOE,MAAP,GAAgBf,oBAAoBa,MAApB,CAAhB;AACAC;AACH,CANM","file":"widgetRender.js","sourcesContent":["import invariant from \"invariant\";\nimport { app } from \"webiny-app\";\n\n/**\n * Default logic for single widget rendering.\n */\nexport const defaultWidgetRender = ({ widget }) => {\n    const cms = app.services.get(\"cms\");\n\n    const widgetDefinition = cms.getWidget(widget.type);\n    invariant(widgetDefinition, `Missing widget definition for type \"${widget.type}\"`);\n\n    return React.cloneElement(widgetDefinition.render(widget), { value: widget });\n};\n\n/**\n * Default middleware for rendering of page widgets.\n * It will not render anything if there already is an output assigned by previous middleware.\n */\nexport const defaultWidgetRenderMiddleware = (params: Object, next: Function) => {\n    if (params.output) {\n        return next();\n    }\n    params.output = defaultWidgetRender(params);\n    next();\n};"]}