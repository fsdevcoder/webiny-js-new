{"version":3,"sources":["../../../../src/admin/views/categories/CategoryModal.jsx"],"names":["categoryURL","value","startsWith","endsWith","Error","CategoryModal","props","modules","Modal","Button","Form","FormData","FormError","Input","Grid","Loader","data","hide","then","onSuccess","model","onSubmit","error","loading","invalidFields","form","Bind","submit","React","Component","ModalComponent"],"mappings":"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","file":"CategoryModal.js","sourcesContent":["import React from \"react\";\nimport { createComponent } from \"webiny-app\";\nimport { ModalComponent } from \"webiny-app-ui\";\n\nconst categoryURL = value => {\n    if (value.startsWith(\"/\") && value.endsWith(\"/\")) {\n        return true;\n    }\n\n    throw new Error(\"Category URL must begin and end with a forward slash (`/`)\");\n};\n\nclass CategoryModal extends React.Component {\n    render() {\n        const {\n            Modal,\n            Button,\n            Form,\n            FormData,\n            FormError,\n            Input,\n            Grid,\n            Loader\n        } = this.props.modules;\n        \n        return (\n            <Modal.Dialog>\n                <FormData\n                    defaultModel={this.props.data || {}}\n                    entity={\"CmsCategory\"}\n                    fields={\"id title slug url\"}\n                    onSubmitSuccess={() => {\n                        this.props.hide().then(() => this.props.onSuccess());\n                    }}\n                >\n                    {({ model, onSubmit, error, loading, invalidFields }) => (\n                        <Form model={model} onSubmit={onSubmit} invalidFields={invalidFields}>\n                            {({ form, Bind }) => (\n                                <Modal.Content>\n                                    {loading && <Loader />}\n                                    <Modal.Header title=\"Category\" onClose={this.props.hide} />\n                                    <Modal.Body>\n                                        {error && <FormError error={error} />}\n                                        <Grid.Row>\n                                            <Grid.Col all={12}>\n                                                <Bind>\n                                                    <Input\n                                                        label=\"Title\"\n                                                        name=\"title\"\n                                                        placeholder=\"Enter category title\"\n                                                        validators=\"required\"\n                                                    />\n                                                </Bind>\n                                                <Bind>\n                                                    <Input\n                                                        label=\"Slug\"\n                                                        name=\"slug\"\n                                                        placeholder=\"Enter category slug\"\n                                                        validators=\"required\"\n                                                    />\n                                                </Bind>\n                                                <Bind>\n                                                    <Input\n                                                        label=\"URL\"\n                                                        placeholder=\"Enter category URL\"\n                                                        description={\n                                                            \"This URL will be added to all pages in this category.\"\n                                                        }\n                                                        name=\"url\"\n                                                        validators={[\"required\", categoryURL]}\n                                                    />\n                                                </Bind>\n                                            </Grid.Col>\n                                        </Grid.Row>\n                                    </Modal.Body>\n                                    <Modal.Footer>\n                                        <Button\n                                            type=\"default\"\n                                            label=\"Cancel\"\n                                            onClick={this.props.hide}\n                                        />\n                                        <Button type=\"primary\" label=\"Save\" onClick={form.submit} />\n                                    </Modal.Footer>\n                                </Modal.Content>\n                            )}\n                        </Form>\n                    )}\n                </FormData>\n            </Modal.Dialog>\n        );\n    }\n}\n\nexport default createComponent([CategoryModal, ModalComponent], {\n    modules: [\"Modal\", \"Button\", \"Input\", \"Form\", \"FormData\", \"FormError\", \"Grid\", \"Loader\"]\n});\n"]}