{"version":3,"sources":["../../../../../src/admin/views/layouts/components/WidgetSettingsDialog.jsx"],"names":["WidgetSettingsDialog","props","modules","Modal","Button","Form","cms","services","widget","onChange","editorWidget","getLayoutEditorWidget","type","settings","hide","then","model","submit","Bind","widgetSettingsContainer","renderSettings","WidgetSettingsContainer","React","cloneElement","Component","ModalComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AACA;;;;;;IAEMA,oB;;;;;;;;;;iCACO;AAAA;;AAAA,yBAMD,KAAKC,KANJ;AAAA,wCAEDC,OAFC;AAAA,gBAEUC,KAFV,kBAEUA,KAFV;AAAA,gBAEiBC,MAFjB,kBAEiBA,MAFjB;AAAA,gBAEyBC,IAFzB,kBAEyBA,IAFzB;AAAA,gBAGWC,GAHX,UAGDC,QAHC,CAGWD,GAHX;AAAA,gBAIDE,MAJC,UAIDA,MAJC;AAAA,gBAKDC,QALC,UAKDA,QALC;;;AAQL,gBAAIC,eAAeJ,IAAIK,qBAAJ,CAA0BH,OAAOI,IAAjC,CAAnB;;AAEA,mBACI;AAAC,qBAAD,CAAO,MAAP;AAAA;AACI;AAAC,wBAAD;AAAA;AACI,+BAAOJ,OAAOK,QAAP,IAAmB,EAD9B;AAEI,kCAAU;AAAA,mCAAS,OAAKZ,KAAL,CAAWa,IAAX,GAAkBC,IAAlB,CAAuB;AAAA,uCAAM,OAAKd,KAAL,CAAWQ,QAAX,CAAoBO,KAApB,CAAN;AAAA,6BAAvB,CAAT;AAAA;AAFd;AAIK,oCAA6B;AAAA,4BAA1BA,KAA0B,QAA1BA,KAA0B;AAAA,4BAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,4BAAXC,IAAW,QAAXA,IAAW;;AAC1B;AACA,4BAAIC,0BAA0BT,aAAaF,MAAb,CAAoBY,cAApB,CAAmC;AAC7DC,sFAD6D;AAE7Db;AAF6D,yBAAnC,CAA9B;;AAKA;AACAW,kDAA0BG,gBAAMC,YAAN,CAAmBJ,uBAAnB,EAA4C;AAClED,sCADkE;AAElEL,sCAAUG,KAFwD;AAGlER,0CAHkE;AAIlEC;AAJkE,yBAA5C,CAA1B;;AAOA,+BACI;AAAC,iCAAD,CAAO,OAAP;AAAA;AACI,0DAAC,KAAD,CAAO,MAAP;AACI,uCAAO,wBADX;AAEI,yCAAS,OAAKR,KAAL,CAAWa;AAFxB,8BADJ;AAKI;AAAC,qCAAD,CAAO,IAAP;AAAA;AAAaK;AAAb,6BALJ;AAMI;AAAC,qCAAD,CAAO,MAAP;AAAA,kCAAc,OAAM,OAApB;AACI,8DAAC,MAAD,IAAQ,MAAK,SAAb,EAAuB,OAAM,QAA7B,EAAsC,SAAS,OAAKlB,KAAL,CAAWa,IAA1D,GADJ;AAEI,8DAAC,MAAD,IAAQ,MAAK,SAAb,EAAuB,OAAM,eAA7B,EAA6C,SAASG,MAAtD;AAFJ;AANJ,yBADJ;AAaH;AAhCL;AADJ,aADJ;AAsCH;;;EAjD8BK,gBAAME,S;;kBAoD1B,gCAAgB,CAACxB,oBAAD,EAAuByB,2BAAvB,CAAhB,EAAwD;AACnEvB,aAAS,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,CAD0D;AAEnEK,cAAU,CAAC,KAAD;AAFyD,CAAxD,C","file":"WidgetSettingsDialog.js","sourcesContent":["import React from \"react\";\nimport { createComponent } from \"webiny-app\";\nimport { ModalComponent } from \"webiny-app-ui\";\nimport WidgetSettingsContainer from \"./WidgetSettingsContainer\";\n\nclass WidgetSettingsDialog extends React.Component {\n    render() {\n        const {\n            modules: { Modal, Button, Form },\n            services: { cms },\n            widget,\n            onChange\n        } = this.props;\n\n        let editorWidget = cms.getLayoutEditorWidget(widget.type);\n\n        return (\n            <Modal.Dialog>\n                <Form\n                    model={widget.settings || {}}\n                    onSubmit={model => this.props.hide().then(() => this.props.onChange(model))}\n                >\n                    {({ model, submit, Bind }) => {\n                        // 1. Render widget settings using widget plugin\n                        let widgetSettingsContainer = editorWidget.widget.renderSettings({\n                            WidgetSettingsContainer,\n                            widget\n                        });\n\n                        // 2. Clone settings container to pass additional props.\n                        widgetSettingsContainer = React.cloneElement(widgetSettingsContainer, {\n                            Bind,\n                            settings: model,\n                            widget,\n                            onChange\n                        });\n\n                        return (\n                            <Modal.Content>\n                                <Modal.Header\n                                    title={\"Layout widget settings\"}\n                                    onClose={this.props.hide}\n                                />\n                                <Modal.Body>{widgetSettingsContainer}</Modal.Body>\n                                <Modal.Footer align=\"right\">\n                                    <Button type=\"default\" label=\"Cancel\" onClick={this.props.hide} />\n                                    <Button type=\"primary\" label=\"Save settings\" onClick={submit} />\n                                </Modal.Footer>\n                            </Modal.Content>\n                        );\n                    }}\n                </Form>\n            </Modal.Dialog>\n        );\n    }\n}\n\nexport default createComponent([WidgetSettingsDialog, ModalComponent], {\n    modules: [\"Form\", \"Modal\", \"Button\"],\n    services: [\"cms\"]\n});\n"]}