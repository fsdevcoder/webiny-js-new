{"version":3,"sources":["../../../../src/admin/views/layouts/LayoutEditor.jsx"],"names":["t","i18n","namespace","LayoutEditor","services","layoutWidgets","cms","getLayoutEditorWidgets","props","modules","View","Link","Form","FormData","FormError","Icon","Loader","content","model","submit","error","loading","filterContent","Bind","styles","viewHeader","padding","titleWrapper","titleRight","children","id","paddingTop","React","Component"],"mappings":"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","file":"LayoutEditor.js","sourcesContent":["import React from \"react\";\nimport { createComponent, i18n } from \"webiny-app\";\nimport TitleInput from \"./components/TitleInput\";\nimport LayoutContent from \"./components/LayoutContent\";\n\nconst t = i18n.namespace(\"Cms.Admin.Views.LayoutEditor\");\n\nclass LayoutEditor extends React.Component {\n    constructor({ services }) {\n        super();\n\n        this.layoutWidgets = services.cms.getLayoutEditorWidgets();\n    }\n\n    render() {\n        const {\n            modules: { View, Link, Form, FormData, FormError, Icon, Loader }\n        } = this.props;\n\n        return (\n            <FormData\n                withRouter\n                entity={\"CmsLayout\"}\n                defaultModel={{ content: [] }}\n                fields={\"id title slug content { id origin type data settings }\"}\n            >\n                {({ model, submit, error, loading }) => (\n                    <Form model={model} onSubmit={model => this.filterContent(model, submit)}>\n                        {({ submit, model, Bind }) => (\n                            <View.Form>\n                                {loading && <Loader />}\n                                <View.Header\n                                    render={({ props }) => (\n                                        <div\n                                            className={props.styles.viewHeader}\n                                            style={{ padding: \"20px 50px\" }}\n                                        >\n                                            <div className={props.styles.titleWrapper}>\n                                                <Bind>\n                                                    <TitleInput name={\"title\"} />\n                                                </Bind>\n                                            </div>\n                                            <div className={props.styles.titleRight}>\n                                                {props.children}\n                                            </div>\n                                        </div>\n                                    )}\n                                >\n                                    <Link url={`/cms/preview/${model.id}`} type=\"secondary\" newTab>\n                                        <Icon icon={\"eye\"} /> {t`Preview`}\n                                    </Link>\n                                    <Link type=\"primary\" align=\"right\" onClick={submit}>\n                                        {t`Save page`}\n                                    </Link>\n                                </View.Header>\n                                {error && (\n                                    <View.Error>\n                                        <FormError error={error} />\n                                    </View.Error>\n                                )}\n                                <View.Body noPadding noColor style={{ paddingTop: 15 }}>\n                                    <Bind>\n                                        <LayoutContent name={\"content\"} />\n                                    </Bind>\n                                </View.Body>\n                            </View.Form>\n                        )}\n                    </Form>\n                )}\n            </FormData>\n        );\n    }\n}\n\nexport default createComponent(LayoutEditor, {\n    services: [\"cms\"],\n    modules: [\n        \"List\",\n        \"View\",\n        \"Link\",\n        \"Icon\",\n        \"Input\",\n        \"Select\",\n        \"Grid\",\n        \"Modal\",\n        \"Loader\",\n        \"Tabs\",\n        \"Form\",\n        \"FormData\",\n        \"FormError\",\n        \"Button\"\n    ]\n});\n"]}