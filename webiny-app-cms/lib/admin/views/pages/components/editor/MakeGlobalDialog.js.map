{"version":3,"sources":["../../../../../../src/admin/views/pages/components/editor/MakeGlobalDialog.jsx"],"names":["MakeGlobalDialog","props","modules","Modal","Button","Input","Form","cms","services","widget","hide","title","createGlobalWidget","type","data","settings","then","onSuccess","origin","submit","model","Bind","React","Component","ModalComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;IAEMA,gB;;;;;;;;;;iCACO;AAAA;;AAAA,yBACgF,KAAKC,KADrF;AAAA,wCACGC,OADH;AAAA,gBACcC,KADd,kBACcA,KADd;AAAA,gBACqBC,MADrB,kBACqBA,MADrB;AAAA,gBAC6BC,KAD7B,kBAC6BA,KAD7B;AAAA,gBACoCC,IADpC,kBACoCA,IADpC;AAAA,gBACwDC,GADxD,UAC4CC,QAD5C,CACwDD,GADxD;AAAA,gBAC+DE,MAD/D,UAC+DA,MAD/D;AAAA,gBACuEC,IADvE,UACuEA,IADvE;;AAEL,mBACI;AAAC,qBAAD,CAAO,MAAP;AAAA;AACI;AAAC,wBAAD;AAAA;AACI,kCAAU,wBAAe;AAAA,gCAAZC,KAAY,QAAZA,KAAY;;AACrBJ,gCACKK,kBADL,CACwB;AAChBD,4CADgB;AAEhBE,sCAAMJ,OAAOI,IAFG;AAGhBC,sCAAML,OAAOK,IAHG;AAIhBC,0CAAUN,OAAOM;AAJD,6BADxB,EAOKC,IAPL,CAOU,kBAAU;AACZN,uCAAOM,IAAP,CAAY;AAAA,2CAAM,OAAKf,KAAL,CAAWgB,SAAX,CAAqBC,MAArB,CAAN;AAAA,iCAAZ;AACH,6BATL;AAUH;AAZL;AAcK;AAAA,4BAAGC,MAAH,SAAGA,MAAH;AAAA,4BAAWC,KAAX,SAAWA,KAAX;AAAA,4BAAkBC,IAAlB,SAAkBA,IAAlB;AAAA,+BACG;AAAC,iCAAD,CAAO,OAAP;AAAA;AACI,0DAAC,KAAD,CAAO,MAAP,IAAc,OAAM,wBAApB,EAA6C,SAASX,IAAtD,GADJ;AAEI;AAAC,qCAAD,CAAO,IAAP;AAAA;AACI;AAAC,wCAAD;AAAA;AACI,kEAAC,KAAD;AACI,8CAAM,OADV;AAEI,+CAAO,cAFX;AAGI,qDAAa,+BAHjB;AAII,oDAAY;AAJhB;AADJ;AADJ,6BAFJ;AAYI;AAAC,qCAAD,CAAO,MAAP;AAAA,kCAAc,OAAM,OAApB;AACI,8DAAC,MAAD,IAAQ,MAAK,SAAb,EAAuB,OAAM,QAA7B,EAAsC,SAASA,IAA/C,GADJ;AAEI,8DAAC,MAAD,IAAQ,MAAK,SAAb,EAAuB,OAAM,aAA7B,EAA2C,SAASS,MAApD;AAFJ;AAZJ,yBADH;AAAA;AAdL;AADJ,aADJ;AAsCH;;;EAzC0BG,gBAAMC,S;;kBA4CtB,gCAAgB,CAACvB,gBAAD,EAAmBwB,2BAAnB,CAAhB,EAAoD;AAC/DtB,aAAS,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,MAA7B,CADsD;AAE/DM,cAAU,CAAC,KAAD;AAFqD,CAApD,C","file":"MakeGlobalDialog.js","sourcesContent":["import React from \"react\";\nimport { app, createComponent } from \"webiny-app\";\nimport { ModalComponent } from \"webiny-app-ui\";\n\nclass MakeGlobalDialog extends React.Component {\n    render() {\n        const { modules: { Modal, Button, Input, Form }, services: { cms }, widget, hide } = this.props;\n        return (\n            <Modal.Dialog>\n                <Form\n                    onSubmit={({ title }) => {\n                        cms\n                            .createGlobalWidget({\n                                title,\n                                type: widget.type,\n                                data: widget.data,\n                                settings: widget.settings\n                            })\n                            .then(origin => {\n                                hide().then(() => this.props.onSuccess(origin));\n                            });\n                    }}\n                >\n                    {({ submit, model, Bind }) => (\n                        <Modal.Content>\n                            <Modal.Header title=\"Save to global widgets\" onClose={hide} />\n                            <Modal.Body>\n                                <Bind>\n                                    <Input\n                                        name={\"title\"}\n                                        label={\"Widget title\"}\n                                        placeholder={\"Enter a title for your widget\"}\n                                        validators={\"required\"}\n                                    />\n                                </Bind>\n                            </Modal.Body>\n                            <Modal.Footer align=\"right\">\n                                <Button type=\"default\" label=\"Cancel\" onClick={hide} />\n                                <Button type=\"primary\" label=\"Save widget\" onClick={submit} />\n                            </Modal.Footer>\n                        </Modal.Content>\n                    )}\n                </Form>\n            </Modal.Dialog>\n        );\n    }\n}\n\nexport default createComponent([MakeGlobalDialog, ModalComponent], {\n    modules: [\"Modal\", \"Button\", \"Input\", \"Form\"],\n    services: [\"cms\"]\n});\n"]}