{"version":3,"sources":["../../../../src/admin/views/pages/PageList.jsx"],"names":["t","namespace","PageList","state","category","props","modules","ListData","View","Link","Icon","Select","Grid","Tabs","createModal","show","ref","list","noPaddingRight","sidebar","sidebarHeader","setState","cat","map","page","id","title","noPaddingLeft","previewHeader","previewDetails","previewRevision","content","Component"],"mappings":"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","file":"PageList.js","sourcesContent":["import React from \"react\";\nimport { createComponent, i18n } from \"webiny-app\";\nimport PageFilter from \"./components/PageFilter\";\nimport PageListControls from \"./components/PageListControls\";\nimport PageContentPreview from \"./components/PageContentPreview\";\nimport CreatePageDialog from \"./CreatePageDialog\";\nimport styles from \"./PageList.scss\";\n\nconst t = i18n.namespace(\"Cms.Admin.Views.PageList\");\n\nclass PageList extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            category: null\n        };\n    }\n\n    render() {\n        const {\n            //List,\n            ListData,\n            View,\n            Link,\n            Icon,\n            Select,\n            Grid,\n            Tabs\n        } = this.props.modules;\n\n        return (\n            <View.List>\n                <View.Header\n                    title={t`CMS / Pages`}\n                    description={t`Your list of pages. Click the button on the right to create a new page.`}\n                >\n                    <Link type=\"primary\" align=\"right\" onClick={() => this.createModal.show()}>\n                        <Icon icon={[\"fa\", \"plus-circle\"]} /> {t`Create new page`}\n                    </Link>\n                    <CreatePageDialog onReady={ref => (this.createModal = ref)} />\n                </View.Header>\n                <View.Body noPadding noColor>\n                    <ListData\n                        entity={\"CmsPage\"}\n                        fields={\n                            \"id title slug category { title } content { id type origin data settings }\"\n                        }\n                    >\n                        {({ list }) => (\n                            <React.Fragment>\n                                <Grid.Row>\n                                    <Grid.Col all={12}>\n                                        <PageFilter />\n                                    </Grid.Col>\n                                </Grid.Row>\n\n                                <Grid.Row>\n                                    <Grid.Col all={4} className={styles.noPaddingRight}>\n                                        <div className={styles.sidebar}>\n                                            <div className={styles.sidebarHeader}>\n                                                <PageListControls\n                                                    category={this.state.category}\n                                                    onCategory={cat =>\n                                                        this.setState({ category: cat })\n                                                    }\n                                                />\n                                            </div>\n                                        </div>\n                                        <ul>\n                                            {list.map(page => (\n                                                <li\n                                                    key={page.id}\n                                                    onClick={() => this.setState({ page })}\n                                                >\n                                                    <strong>{page.title}</strong>\n                                                    <br />\n                                                    {page.category.title}\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </Grid.Col>\n                                    <Grid.Col all={8} className={styles.noPaddingLeft}>\n                                        <Tabs size=\"large\">\n                                            <Tabs.Tab label=\"Preview page\">\n                                                <div className={styles.previewHeader}>\n                                                    <div className={styles.previewDetails}>\n                                                        <div>Date created: 24.5.2015</div>\n                                                        <div>Category: Blogging</div>\n                                                        <div>By: Sven al Hamad</div>\n                                                        <div>Status: Published</div>\n                                                    </div>\n                                                    <div className={styles.previewRevision}>\n                                                        <Select value={1} onChange={() => {}}>\n                                                            <option value={1}>Revision #1</option>\n                                                            <option value={2}>Revision #2</option>\n                                                            <option value={3}>Revision #3</option>\n                                                        </Select>\n                                                    </div>\n                                                    {this.state.page && (\n                                                        <PageContentPreview\n                                                            content={this.state.page.content}\n                                                        />\n                                                    )}\n                                                </div>\n                                            </Tabs.Tab>\n                                            <Tabs.Tab label=\"Revisions\" />\n                                        </Tabs>\n                                    </Grid.Col>\n                                </Grid.Row>\n                            </React.Fragment>\n                        )}\n                    </ListData>\n                </View.Body>\n            </View.List>\n        );\n    }\n}\n\nexport default createComponent(PageList, {\n    modules: [\n        \"ListData\",\n        \"View\",\n        \"Link\",\n        \"Icon\",\n        \"Input\",\n        \"Select\",\n        \"Grid\",\n        \"Modal\",\n        \"Tabs\",\n        \"Button\"\n    ]\n});\n"]}