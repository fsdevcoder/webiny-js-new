{"version":3,"sources":["../../../../../src/admin/widgets/pageEditor/image/Widget.jsx"],"names":["ImageWidget","props","modules","Image","Input","ChangeConfirm","Bind","handleImage","isGlobal","showConfirmation","value","onChange","title","action","config","closeOnClick","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;IAEMA,W;;;;;;;;;;iCACO;AAAA;;AAAA,yBAMD,KAAKC,KANJ;AAAA,wCAEDC,OAFC;AAAA,gBAEUC,KAFV,kBAEUA,KAFV;AAAA,gBAEiBC,KAFjB,kBAEiBA,KAFjB;AAAA,gBAEwBC,aAFxB,kBAEwBA,aAFxB;AAAA,gBAGDC,IAHC,UAGDA,IAHC;AAAA,gBAIDC,WAJC,UAIDA,WAJC;AAAA,gBAKDC,QALC,UAKDA,QALC;;AAOL,mBACI;AAAC,+BAAD,CAAO,QAAP;AAAA;AACI;AAAC,iCAAD;AAAA;AACI,+BAAO,aADX;AAEI,iCAAS,+BAFb;AAGI,gCAAQ,aAHZ;AAII,iCACI;AAAA;AAAA;AAAA;AAEI,qEAFJ;AAAA;AAAA;AALR;AAYK;AAAA,4BAAGC,gBAAH,QAAGA,gBAAH;AAAA,+BACG;AAAC,gCAAD;AAAA;AACI,8CAAc,sBAACC,KAAD,EAAQC,QAAR,EAAqB;AAC/B,wCAAIH,QAAJ,EAAc;AACV,+CAAOC,iBAAiBC,KAAjB,EAAwB,iBAAS;AAChCH,wDAAY,OAAKN,KAAjB,EAAwBS,KAAxB,EAA+BC,QAA/B;AACH,yCAFE,CAAP;AAIH;AACDJ,gDAAY,OAAKN,KAAjB,EAAwBS,KAAxB,EAA+BC,QAA/B;AACH;AATL;AAWI,0DAAC,KAAD;AACI,sCAAM,OADV;AAEI,2CAAW,QAFf;AAGI,yCAAS;AACLC,4DADK;AAELC,wDAFK;AAGLC,4CAAQ;AACJC,sDAAc;AADV;AAHH;AAHb;AAXJ,yBADH;AAAA;AAZL,iBADJ;AAuCI;AAAC,wBAAD;AAAA;AACI,kDAAC,KAAD,IAAO,aAAa,eAApB,EAAqC,MAAM,SAA3C;AADJ;AAvCJ,aADJ;AA6CH;;;EArDqBC,gBAAMC,S;;kBAwDjB,gCAAgBjB,WAAhB,EAA6B,EAAEE,SAAS,CAAC,OAAD,EAAU,OAAV,EAAmB,eAAnB,CAAX,EAA7B,C","file":"Widget.js","sourcesContent":["import React from \"react\";\nimport { createComponent } from \"webiny-app\";\n\nclass ImageWidget extends React.Component {\n    render() {\n        const {\n            modules: { Image, Input, ChangeConfirm },\n            Bind,\n            handleImage,\n            isGlobal\n        } = this.props;\n        return (\n            <React.Fragment>\n                <ChangeConfirm\n                    title={\"Be careful!\"}\n                    confirm={\"I'm aware of what I am doing!\"}\n                    cancel={\"Maybe later\"}\n                    message={\n                        <span>\n                            You are about to remove an image from a global widget.\n                            <br />All the content that is currently using this widget will be\n                            affected!\n                        </span>\n                    }\n                >\n                    {({ showConfirmation }) => (\n                        <Bind\n                            beforeChange={(value, onChange) => {\n                                if (isGlobal) {\n                                    return showConfirmation(value, value => {\n                                            handleImage(this.props, value, onChange)\n                                        }\n                                    );\n                                }\n                                handleImage(this.props, value, onChange);\n                            }}\n                        >\n                            <Image\n                                name={\"image\"}\n                                sizeLimit={10000000}\n                                cropper={{\n                                    title: `Crop your image`,\n                                    action: `Save image`,\n                                    config: {\n                                        closeOnClick: false\n                                    }\n                                }}\n                            />\n                        </Bind>\n                    )}\n                </ChangeConfirm>\n                <Bind>\n                    <Input placeholder={\"Image caption\"} name={\"caption\"} />\n                </Bind>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default createComponent(ImageWidget, { modules: [\"Image\", \"Input\", \"ChangeConfirm\"] });\n"]}