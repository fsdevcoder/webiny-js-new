{"version":3,"sources":["../../src/admin/app.js"],"names":["t","i18n","namespace","next","app","services","register","CMS","get","add","router","addRoute","name","path","exact","render","modules","load","Layout","then"],"mappings":"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","file":"app.js","sourcesContent":["import React from \"react\";\nimport { i18n } from \"webiny-app\";\nimport { Menu } from \"webiny-app-admin\";\nimport CMS from \"./services/CMS\";\nimport PageManagerContainer from \"./views/pages/PageManagerContainer\";\nimport PageEditor from \"./views/pages/PageEditor\";\nimport CategoryList from \"./views/categories/CategoryList\";\nimport LayoutList from \"./views/layouts/LayoutList\";\nimport LayoutEditor from \"./views/layouts/LayoutEditor\";\nimport registerWidgets from \"./registerWidgets\";\n\nconst t = i18n.namespace(\"Cms.Admin.Menu\");\n\nexport default () => {\n    return ({ app }, next) => {\n        app.services.register(\"cms\", () => new CMS());\n\n        registerWidgets();\n\n        app.services.get(\"menu\").add(\n            <Menu order=\"1\" label={t`Content`} icon={[\"fas\", \"file-alt\"]}>\n                <Menu order={0} label={t`Pages`} route=\"Cms.Page.List\" />\n                <Menu order={0} label={t`Layouts`} route=\"Cms.Layout.List\" />\n                <Menu order={1} label={t`Categories`} route=\"Cms.Category.List\" />\n                <Menu order={2} label={t`Menus`} route=\"Cms.Menu.List\" />\n                <Menu order={3} label={t`Redirects`} route=\"Cms.Redirect.List\" />\n            </Menu>\n        );\n\n        app.router.addRoute({\n            name: \"Cms.Page.List\",\n            path: \"/cms/pages\",\n            exact: true,\n            render: () => {\n                return app.modules.load([{ Layout: \"Admin.Layout\" }]).then(({ Layout }) => {\n                    return (\n                        <Layout>\n                            <PageManagerContainer />\n                        </Layout>\n                    );\n                });\n            }\n        });\n\n        app.router.addRoute({\n            name: \"Cms.Page.Editor\",\n            path: \"/cms/pages/revision/:id\",\n            exact: true,\n            render: () => {\n                return app.modules.load({ Layout: \"Admin.Layout\" }).then(({ Layout }) => {\n                    return (\n                        <Layout>\n                            <PageEditor />\n                        </Layout>\n                    );\n                });\n            }\n        });\n\n        app.router.addRoute({\n            name: \"Cms.Layout.Edit\",\n            path: \"/cms/layouts/:id\",\n            exact: true,\n            render: () => {\n                return app.modules.load({ Layout: \"Admin.Layout\" }).then(({ Layout }) => {\n                    return (\n                        <Layout>\n                            <LayoutEditor />\n                        </Layout>\n                    );\n                });\n            }\n        });\n\n        app.router.addRoute({\n            name: \"Cms.Layout.List\",\n            path: \"/cms/layouts\",\n            exact: true,\n            render: () => {\n                return app.modules.load({ Layout: \"Admin.Layout\" }).then(({ Layout }) => {\n                    return (\n                        <Layout>\n                            <LayoutList />\n                        </Layout>\n                    );\n                });\n            }\n        });\n\n        app.router.addRoute({\n            name: \"Cms.Category.List\",\n            path: \"/cms/categories\",\n            exact: true,\n            render: () => {\n                return app.modules.load({ Layout: \"Admin.Layout\" }).then(({ Layout }) => {\n                    return (\n                        <Layout>\n                            <CategoryList />\n                        </Layout>\n                    );\n                });\n            }\n        });\n\n        next();\n    };\n};\n"]}