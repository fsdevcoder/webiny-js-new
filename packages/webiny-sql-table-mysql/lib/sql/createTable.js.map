{"version":3,"sources":["../../src/sql/createTable.js"],"names":["table","columns","getColumns","forEach","column","push","getSQLValue","indexes","getIndexes","index","output","concat","map","item","join","getName","getEngine","getAutoIncrement","getDefaultCharset","getCollate","getComment"],"mappings":";;;;;;kBAGgBA,KAAD,IAA0B;AACrC,UAAMC,UAAU,EAAhB;AACAD,UAAME,UAAN,GAAmBC,OAAnB,CAA2BC,UAAU;AACjCH,gBAAQI,IAAR,CAAaD,OAAOE,WAAP,EAAb;AACH,KAFD;;AAIA,UAAMC,UAAU,EAAhB;AACAP,UAAMQ,UAAN,GAAmBL,OAAnB,CAA2BM,SAAS;AAChCF,gBAAQF,IAAR,CAAaI,MAAMH,WAAN,EAAb;AACH,KAFD;;AAIA,QAAII,SAAST,QACRU,MADQ,CACDJ,OADC,EAERK,GAFQ,CAEJC,QAAS,KAAIA,IAAK,EAFd,EAGRC,IAHQ,CAGH,KAHG,CAAb;AAIAJ,aAAU,kBAAiBV,MAAMe,OAAN,EAAgB,QAAlC,GAA4CL,MAArD;;AAEAA,cAAW,KAAX;;AAEA;AACA,QAAIV,MAAMgB,SAAN,EAAJ,EAAuB;AACnBN,kBAAW,WAAUV,MAAMgB,SAAN,EAAkB,EAAvC;AACH;;AAED,QAAIhB,MAAMiB,gBAAN,EAAJ,EAA8B;AAC1BP,kBAAW,mBAAkBV,MAAMiB,gBAAN,EAAyB,EAAtD;AACH;;AAED,QAAIjB,MAAMkB,iBAAN,EAAJ,EAA+B;AAC3BR,kBAAW,oBAAmBV,MAAMkB,iBAAN,EAA0B,EAAxD;AACH;;AAED,QAAIlB,MAAMmB,UAAN,EAAJ,EAAwB;AACpBT,kBAAW,YAAWV,MAAMmB,UAAN,EAAmB,EAAzC;AACH;;AAED,QAAInB,MAAMoB,UAAN,EAAJ,EAAwB;AACpBV,kBAAW,aAAYV,MAAMoB,UAAN,EAAmB,GAA1C;AACH;;AAED,WAAOV,SAAS,GAAhB;AACH,C","file":"createTable.js","sourcesContent":["// @flow\nimport type { Table } from \"webiny-sql-table\";\n\nexport default (table: Table): string => {\n    const columns = [];\n    table.getColumns().forEach(column => {\n        columns.push(column.getSQLValue());\n    });\n\n    const indexes = [];\n    table.getIndexes().forEach(index => {\n        indexes.push(index.getSQLValue());\n    });\n\n    let output = columns\n        .concat(indexes)\n        .map(item => `\\t${item}`)\n        .join(\",\\n\");\n    output = `CREATE TABLE \\`${table.getName()}\\` (\\n` + output;\n\n    output += `\\n)`;\n\n    // Table options.\n    if (table.getEngine()) {\n        output += ` ENGINE=${table.getEngine()}`;\n    }\n\n    if (table.getAutoIncrement()) {\n        output += ` AUTO_INCREMENT=${table.getAutoIncrement()}`;\n    }\n\n    if (table.getDefaultCharset()) {\n        output += ` DEFAULT CHARSET=${table.getDefaultCharset()}`;\n    }\n\n    if (table.getCollate()) {\n        output += ` COLLATE=${table.getCollate()}`;\n    }\n\n    if (table.getComment()) {\n        output += ` COMMENT='${table.getComment()}'`;\n    }\n\n    return output + \";\";\n};\n"]}