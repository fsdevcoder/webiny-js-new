{"version":3,"sources":["../../src/attributes/registerAttributes.js"],"names":["authentication","PasswordAttribute","IdentityAttribute","prototype","password","parent","getParentModel","setAttribute","name","getAttribute","identity","options","model"],"mappings":";;;;;;AAAA;;AAGA;;;;AACA;;;;;;kBAGgBA,cAAD,IAAqC;AAChD,UAAMC,oBAAoB,kCAA1B;AACA,UAAMC,oBAAoB,iCAAyBF,cAAzB,CAA1B;;AAEA;;;;;AAKA,4CAA0BG,SAA1B,CAAoCC,QAApC,GAA+C,YAAW;AACtD,cAAMC,SAAS,KAAKC,cAAL,EAAf;AACAD,eAAOE,YAAP,CAAoB,KAAKC,IAAzB,EAA+B,IAAIP,iBAAJ,CAAsB,KAAKO,IAA3B,EAAiC,IAAjC,CAA/B;AACA,eAAOH,OAAOI,YAAP,CAAoB,KAAKD,IAAzB,CAAP;AACH,KAJD;;AAMA;;;;;AAKA,4CAA0BL,SAA1B,CAAoCO,QAApC,GAA+C,UAASC,OAAT,EAA0C;AACrF,cAAMC,QAAQ,KAAKN,cAAL,EAAd;AACAM,cAAML,YAAN,CAAmB,KAAKC,IAAxB,EAA8B,IAAIN,iBAAJ,CAAsB,KAAKM,IAA3B,EAAiC,IAAjC,EAAuCG,OAAvC,CAA9B;AACA,eAAOC,MAAMH,YAAN,CAAmB,KAAKD,IAAxB,CAAP;AACH,KAJD;AAKH,C","file":"registerAttributes.js","sourcesContent":["import { EntityAttributesContainer } from \"webiny-entity\";\n\nimport type { IAuthentication } from \"../../types\";\nimport passwordAttrFactory from \"./passwordAttribute\";\nimport identityAttributeFactory from \"./identityAttribute\";\nimport type { EntityAttributeOptions } from \"webiny-entity/types\";\n\nexport default (authentication: IAuthentication) => {\n    const PasswordAttribute = passwordAttrFactory();\n    const IdentityAttribute = identityAttributeFactory(authentication);\n\n    /**\n     * Password attribute\n     * @package webiny-api-security\n     * @return {UserAttribute}\n     */\n    EntityAttributesContainer.prototype.password = function() {\n        const parent = this.getParentModel();\n        parent.setAttribute(this.name, new PasswordAttribute(this.name, this));\n        return parent.getAttribute(this.name);\n    };\n\n    /**\n     * Identity attribute. Used to store a reference to an Identity.\n     * @package webiny-api-security\n     * @return {IdentityAttribute}\n     */\n    EntityAttributesContainer.prototype.identity = function(options: EntityAttributeOptions) {\n        const model = this.getParentModel();\n        model.setAttribute(this.name, new IdentityAttribute(this.name, this, options));\n        return model.getAttribute(this.name);\n    };\n};\n"]}