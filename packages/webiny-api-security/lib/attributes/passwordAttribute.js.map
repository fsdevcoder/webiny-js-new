{"version":3,"sources":["../../src/attributes/passwordAttribute.js"],"names":["PasswordAttribute","constructor","onSet","value","hashSync","genSaltSync","getCurrent"],"mappings":";;;;;;AAAA;;;;AACA;;;;kBAEe,MAAM;AACjB,WAAO,MAAMA,iBAAN,oCAA8C;AACjDC,sBAAc;AACV;;AAEA,iBAAKC,KAAL,CAAWC,SAAS;AAChB,oBAAIA,KAAJ,EAAW;AACP,2BAAO,mBAAOC,QAAP,CAAgBD,KAAhB,EAAuB,mBAAOE,WAAP,CAAmB,EAAnB,CAAvB,CAAP;AACH;AACD,uBAAO,KAAKF,KAAL,CAAWG,UAAX,EAAP;AACH,aALD;AAMH;AAVgD,KAArD;AAYH,C","file":"passwordAttribute.js","sourcesContent":["import bcrypt from \"bcryptjs\";\nimport { CharAttribute } from \"webiny-model\";\n\nexport default () => {\n    return class PasswordAttribute extends CharAttribute {\n        constructor() {\n            super();\n\n            this.onSet(value => {\n                if (value) {\n                    return bcrypt.hashSync(value, bcrypt.genSaltSync(10));\n                }\n                return this.value.getCurrent();\n            });\n        }\n    };\n};\n"]}