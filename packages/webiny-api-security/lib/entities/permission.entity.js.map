{"version":3,"sources":["../../src/entities/permission.entity.js"],"names":["Permission","constructor","attr","models","RuleModel","entities","setUsing","classId","tableName","RuleMethodModel","char","setValidators"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,UAAN,2BAAgC;AAC5BC,kBAAc;AACV;AACA,oCAAa,IAAb;AACA,aAAKC,IAAL,CAAU,OAAV,EAAmBC,MAAnB,CAA0BC,SAA1B;AACA,aAAKF,IAAL,CAAU,OAAV,EACKG,QADL,iBAEKC,QAFL;AAGH;AAR2B;;AAWhCN,WAAWO,OAAX,GAAqB,qBAArB;AACAP,WAAWQ,SAAX,GAAuB,sBAAvB;;kBAEeR,U;;AAEf;;AAEA,MAAMS,eAAN,4BAAoC;AAChCR,kBAAc;AACV;AACA,aAAKC,IAAL,CAAU,QAAV,EACKQ,IADL,GAEKC,aAFL,CAEmB,UAFnB;AAGH;AAN+B;;AASpCF,gBAAgBF,OAAhB,GAA0B,0BAA1B;;AAEO,MAAMH,SAAN,4BAA8B;AACjCH,kBAAc;AACV;AACA,aAAKC,IAAL,CAAU,SAAV,EACKQ,IADL,GAEKC,aAFL,CAEmB,UAFnB;AAGA,aAAKT,IAAL,CAAU,SAAV,EAAqBC,MAArB,CAA4BM,eAA5B;AACH;AAPgC;;QAAxBL,S,GAAAA,S;AAUbA,UAAUG,OAAV,GAAoB,oBAApB","file":"permission.entity.js","sourcesContent":["import { Entity } from \"webiny-api\";\nimport { Model } from \"webiny-model\";\nimport Role from \"./role.entity\";\nimport Role2Permission from \"./role2Permission.entity\";\nimport nameSlugDesc from \"./helpers/nameSlugDesc\";\n\nclass Permission extends Entity {\n    constructor() {\n        super();\n        nameSlugDesc(this);\n        this.attr(\"rules\").models(RuleModel);\n        this.attr(\"roles\")\n            .entities(Role)\n            .setUsing(Role2Permission);\n    }\n}\n\nPermission.classId = \"Security.Permission\";\nPermission.tableName = \"Security_Permissions\";\n\nexport default Permission;\n\n// Local helper classes\n\nclass RuleMethodModel extends Model {\n    constructor() {\n        super();\n        this.attr(\"method\")\n            .char()\n            .setValidators(\"required\");\n    }\n}\n\nRuleMethodModel.classId = \"Security.RuleMethodModel\";\n\nexport class RuleModel extends Model {\n    constructor() {\n        super();\n        this.attr(\"classId\")\n            .char()\n            .setValidators(\"required\");\n        this.attr(\"methods\").models(RuleMethodModel);\n    }\n}\n\nRuleModel.classId = \"Security.RuleModel\";\n"]}