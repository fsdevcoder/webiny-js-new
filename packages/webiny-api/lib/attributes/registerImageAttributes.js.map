{"version":3,"sources":["../../src/attributes/registerImageAttributes.js"],"names":["config","prototype","image","parent","getParentModel","setAttribute","name","entity","attribute","getAttribute","setProcessor","processor","setQuality","quality","setStorage","storage","images"],"mappings":";;;;;;AACA;;AACA;;AACA;;;;AAGA;;;;;;kBAEgBA,MAAD,IAKT;AACF;;;;;AAKA,4CAA0BC,SAA1B,CAAoCC,KAApC,GAA4C,YAAW;AACnD,cAAMC,SAAS,KAAKC,cAAL,EAAf;AACAD,eAAOE,YAAP,CAAoB,KAAKC,IAAzB,EAA+B,6BAAmB,KAAKA,IAAxB,EAA8B,IAA9B,EAAoCN,OAAOO,MAA3C,CAA/B;AACA,cAAMC,YAAYL,OAAOM,YAAP,CAAoB,KAAKH,IAAzB,CAAlB;AACAE,kBAAUE,YAAV,CAAuBV,OAAOW,SAA9B;AACAH,kBAAUI,UAAV,CAAqBZ,OAAOa,OAA5B;AACAL,kBAAUM,UAAV,CAAqBd,OAAOe,OAA5B;AACA,eAAOP,SAAP;AACH,KARD;;AAUA;;;;;AAKA,4CAA0BP,SAA1B,CAAoCe,MAApC,GAA6C,YAAW;AACpD,cAAMb,SAAS,KAAKC,cAAL,EAAf;AACAD,eAAOE,YAAP,CAAoB,KAAKC,IAAzB,EAA+B,8BAAoB,KAAKA,IAAzB,EAA+B,IAA/B,EAAqCN,OAAOO,MAA5C,CAA/B;AACA,cAAMC,YAAYL,OAAOM,YAAP,CAAoB,KAAKH,IAAzB,CAAlB;AACAE,kBAAUE,YAAV,CAAuBV,OAAOW,SAA9B;AACAH,kBAAUI,UAAV,CAAqBZ,OAAOa,OAA5B;AACAL,kBAAUM,UAAV,CAAqBd,OAAOe,OAA5B;AACA,eAAOP,SAAP;AACH,KARD;AASH,C","file":"registerImageAttributes.js","sourcesContent":["// @flow\nimport { EntityAttributesContainer } from \"webiny-entity\";\nimport { Entity } from \"webiny-api\";\nimport ImageAttribute from \"./imageAttribute\";\nimport type { ImageProcessor } from \"../../types\";\nimport type { Storage } from \"webiny-file-storage\";\nimport ImagesAttribute from \"./imagesAttribute\";\n\nexport default (config: {\n    entity: Class<Entity>,\n    processor: ImageProcessor,\n    storage: Storage,\n    quality: number\n}) => {\n    /**\n     * Image attribute\n     * @package webiny-api\n     * @return {ImageAttribute}\n     */\n    EntityAttributesContainer.prototype.image = function() {\n        const parent = this.getParentModel();\n        parent.setAttribute(this.name, new ImageAttribute(this.name, this, config.entity));\n        const attribute = parent.getAttribute(this.name);\n        attribute.setProcessor(config.processor);\n        attribute.setQuality(config.quality);\n        attribute.setStorage(config.storage);\n        return attribute;\n    };\n\n    /**\n     * Images attribute\n     * @package webiny-api\n     * @return {ImagesAttribute}\n     */\n    EntityAttributesContainer.prototype.images = function() {\n        const parent = this.getParentModel();\n        parent.setAttribute(this.name, new ImagesAttribute(this.name, this, config.entity));\n        const attribute = parent.getAttribute(this.name);\n        attribute.setProcessor(config.processor);\n        attribute.setQuality(config.quality);\n        attribute.setStorage(config.storage);\n        return attribute;\n    };\n};\n"]}