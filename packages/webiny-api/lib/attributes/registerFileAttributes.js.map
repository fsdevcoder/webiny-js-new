{"version":3,"sources":["../../src/attributes/registerFileAttributes.js"],"names":["config","prototype","file","parent","getParentModel","setAttribute","name","entity","attribute","getAttribute","setStorage","storage","files"],"mappings":";;;;;;AACA;;AACA;;AAGA;;;;AACA;;;;;;kBAEgBA,MAAD,IAAyD;AACpE;;;;;AAKA,4CAA0BC,SAA1B,CAAoCC,IAApC,GAA2C,YAAW;AAClD,cAAMC,SAAS,KAAKC,cAAL,EAAf;AACAD,eAAOE,YAAP,CAAoB,KAAKC,IAAzB,EAA+B,4BAAkB,KAAKA,IAAvB,EAA6B,IAA7B,EAAmCN,OAAOO,MAA1C,CAA/B;AACA,cAAMC,YAAYL,OAAOM,YAAP,CAAoB,KAAKH,IAAzB,CAAlB;AACAE,kBAAUE,UAAV,CAAqBV,OAAOW,OAA5B;AACA,eAAOH,SAAP;AACH,KAND;;AAQA;;;;;AAKA,4CAA0BP,SAA1B,CAAoCW,KAApC,GAA4C,YAAW;AACnD,cAAMT,SAAS,KAAKC,cAAL,EAAf;AACAD,eAAOE,YAAP,CAAoB,KAAKC,IAAzB,EAA+B,6BAAmB,KAAKA,IAAxB,EAA8B,IAA9B,EAAoCN,OAAOO,MAA3C,CAA/B;AACA,cAAMC,YAAYL,OAAOM,YAAP,CAAoB,KAAKH,IAAzB,CAAlB;AACAE,kBAAUE,UAAV,CAAqBV,OAAOW,OAA5B;AACA,eAAOH,SAAP;AACH,KAND;AAOH,C","file":"registerFileAttributes.js","sourcesContent":["// @flow\nimport { EntityAttributesContainer } from \"webiny-entity\";\nimport { Entity } from \"webiny-api\";\nimport type { Storage } from \"webiny-file-storage\";\n\nimport FileAttribute from \"./fileAttribute\";\nimport FilesAttribute from \"./filesAttribute\";\n\nexport default (config: { entity: Class<Entity>, storage: Storage }) => {\n    /**\n     * File attribute\n     * @package webiny-api\n     * @return {FileAttribute}\n     */\n    EntityAttributesContainer.prototype.file = function() {\n        const parent = this.getParentModel();\n        parent.setAttribute(this.name, new FileAttribute(this.name, this, config.entity));\n        const attribute = parent.getAttribute(this.name);\n        attribute.setStorage(config.storage);\n        return attribute;\n    };\n\n    /**\n     * Files attribute\n     * @package webiny-api\n     * @return {FilesAttribute}\n     */\n    EntityAttributesContainer.prototype.files = function() {\n        const parent = this.getParentModel();\n        parent.setAttribute(this.name, new FilesAttribute(this.name, this, config.entity));\n        const attribute = parent.getAttribute(this.name);\n        attribute.setStorage(config.storage);\n        return attribute;\n    };\n};\n"]}