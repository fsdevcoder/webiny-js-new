{"version":3,"sources":["../../../src/model/attributes/dateAttribute.js"],"names":["DateAttribute","setStorageValue","value","setValue","Date","parse","getStorageValue","prototype","call","format"],"mappings":";;;;;;;;;;AAAA;;AACA;;;;;;AAEA,MAAMA,aAAN,oCAA8C;AAC1CC,oBAAgBC,KAAhB,EAAuB;AACnB,YAAIA,UAAU,IAAd,EAAoB;AAChB,mBAAO,MAAMC,QAAN,CAAeD,KAAf,CAAP;AACH;;AAED,YAAIA,iBAAiBE,IAArB,EAA2B;AACvB,mBAAO,MAAMH,eAAN,CAAsBC,KAAtB,CAAP;AACH;;AAED,eAAO,MAAMD,eAAN,CAAsB,gBAAMI,KAAN,CAAYH,KAAZ,EAAmB,qBAAnB,CAAtB,CAAP;AACH;;AAEKI,mBAAN,GAAwB;AAAA;;AAAA;AACpB,kBAAMJ,QAAQ,MAAM,2BAAkBK,SAAlB,CAA4BD,eAA5B,CAA4CE,IAA5C,OAApB;AACA,gBAAIN,iBAAiBE,IAArB,EAA2B;AACvB,uBAAO,gBAAMK,MAAN,CAAaP,KAAb,EAAoB,qBAApB,CAAP;AACH;AACD,mBAAOA,KAAP;AALoB;AAMvB;AAnByC;;kBAsB/BF,a","file":"dateAttribute.js","sourcesContent":["import { DateAttribute as BaseDateAttribute } from \"webiny-model\";\nimport fecha from \"fecha\";\n\nclass DateAttribute extends BaseDateAttribute {\n    setStorageValue(value) {\n        if (value === null) {\n            return super.setValue(value);\n        }\n\n        if (value instanceof Date) {\n            return super.setStorageValue(value);\n        }\n\n        return super.setStorageValue(fecha.parse(value, \"YYYY-MM-DD HH:mm:ss\"));\n    }\n\n    async getStorageValue() {\n        const value = await BaseDateAttribute.prototype.getStorageValue.call(this);\n        if (value instanceof Date) {\n            return fecha.format(value, \"YYYY-MM-DD HH:mm:ss\");\n        }\n        return value;\n    }\n}\n\nexport default DateAttribute;\n"]}