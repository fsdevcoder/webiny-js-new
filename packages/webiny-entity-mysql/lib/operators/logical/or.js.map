{"version":3,"sources":["../../../src/operators/logical/or.js"],"names":["or","canProcess","key","process","value","statement","output","isArray","forEach","object","orKey","orValue","isPlainObject","Error"],"mappings":";;;;;;;;;;AACA;;;;;;AAGA,MAAMA,KAAe;AACjBC,gBAAY,CAAC,EAAEC,GAAF,EAAD,KAAa;AACrB,eAAOA,QAAQ,KAAf;AACH,KAHgB;AAIjBC,aAAS,CAAC,EAAEC,KAAF,EAASC,SAAT,EAAD,KAA0B;AAC/B,YAAIC,SAAS,EAAb;AACA,gBAAQ,IAAR;AACI,iBAAK,iBAAEC,OAAF,CAAUH,KAAV,CAAL;AACIA,sBAAMI,OAAN,CAAcC,UAAU;AACpB,yBAAK,MAAM,CAACC,KAAD,EAAQC,OAAR,CAAX,IAA+B,uBAAeF,MAAf,CAA/B,EAAuD;AACnD,4BAAIH,WAAW,EAAf,EAAmB;AACfA,qCAASD,UAAUF,OAAV,CAAkB,EAAE,CAACO,KAAD,GAASC,OAAX,EAAlB,CAAT;AACH,yBAFD,MAEO;AACHL,sCAAU,SAASD,UAAUF,OAAV,CAAkB,EAAE,CAACO,KAAD,GAASC,OAAX,EAAlB,CAAnB;AACH;AACJ;AACJ,iBARD;AASA;AACJ,iBAAK,iBAAEC,aAAF,CAAgBR,KAAhB,CAAL;AACI,qBAAK,MAAM,CAACM,KAAD,EAAQC,OAAR,CAAX,IAA+B,uBAAeP,KAAf,CAA/B,EAAsD;AAClD,wBAAIE,WAAW,EAAf,EAAmB;AACfA,iCAASD,UAAUF,OAAV,CAAkB,EAAE,CAACO,KAAD,GAASC,OAAX,EAAlB,CAAT;AACH,qBAFD,MAEO;AACHL,kCAAU,SAASD,UAAUF,OAAV,CAAkB,EAAE,CAACO,KAAD,GAASC,OAAX,EAAlB,CAAnB;AACH;AACJ;AACD;AACJ;AACI,sBAAME,MAAM,kDAAN,CAAN;AAtBR;;AAyBA,eAAO,MAAMP,MAAN,GAAe,GAAtB;AACH;AAhCgB,CAArB;kBAmCeN,E","file":"or.js","sourcesContent":["// @flow\nimport _ from \"lodash\";\nimport type { Operator } from \"../../../types\";\n\nconst or: Operator = {\n    canProcess: ({ key }) => {\n        return key === \"$or\";\n    },\n    process: ({ value, statement }) => {\n        let output = \"\";\n        switch (true) {\n            case _.isArray(value):\n                value.forEach(object => {\n                    for (const [orKey, orValue] of Object.entries(object)) {\n                        if (output === \"\") {\n                            output = statement.process({ [orKey]: orValue });\n                        } else {\n                            output += \" OR \" + statement.process({ [orKey]: orValue });\n                        }\n                    }\n                });\n                break;\n            case _.isPlainObject(value):\n                for (const [orKey, orValue] of Object.entries(value)) {\n                    if (output === \"\") {\n                        output = statement.process({ [orKey]: orValue });\n                    } else {\n                        output += \" OR \" + statement.process({ [orKey]: orValue });\n                    }\n                }\n                break;\n            default:\n                throw Error(\"$or operator must receive an object or an array.\");\n        }\n\n        return \"(\" + output + \")\";\n    }\n};\n\nexport default or;\n"]}