{"version":3,"sources":["../../../src/components/Input/index.js"],"names":["Input","props","state","initialState","focus","bind","attachToForm","event","metaKey","ctrlKey","key","onEnter","preventDefault","component","dom","render","call","DelayedOnChange","Icon","styles","FormGroup","onBlur","validate","disabled","isDisabled","readOnly","type","className","input","value","placeholder","onKeyUp","onKeyDown","onChange","autoFocus","ref","onRef","showValidationIcon","addonLeft","addon","addonRight","wrapperClassName","iconLeft","iconRight","isValid","renderLabel","renderInfo","delay","renderValidationIcon","renderDescription","renderValidationMessage","Component","defaultProps","formComponent","modules"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport { createComponent } from 'webiny-app';\nimport FormComponent from \"./../Form/FormComponent\";\nimport styles from './styles.css';\n\nclass Input extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ...props.initialState\n        };\n\n        this.focus = this.focus.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.attachToForm) {\n            this.props.attachToForm(this);\n        }\n    }\n\n    onKeyDown({ event }) {\n        if (event.metaKey || event.ctrlKey) {\n            return;\n        }\n\n        switch (event.key) {\n            case 'Enter':\n                if (this.props.onEnter && this.props.onEnter !== _.noop) {\n                    event.preventDefault();\n                    this.props.onEnter({ event, component: this });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    focus() {\n        this.dom.focus();\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        const { DelayedOnChange, Icon, styles, FormGroup } = this.props;\n\n        const props = {\n            'data-on-enter': this.props.onEnter !== _.noop,\n            onBlur: this.props.validate ? this.props.validate : this.props.onBlur,\n            disabled: this.props.isDisabled(),\n            readOnly: this.props.readOnly,\n            type: this.props.type,\n            className: styles.input,\n            value: this.props.value || '',\n            placeholder: this.props.placeholder,\n            onKeyUp: event => this.props.onKeyUp({ event, component: this }),\n            onKeyDown: event => (this.props.onKeyDown !== _.noop ? this.props.onKeyDown : this.onKeyDown.bind(this))({\n                event,\n                component: this\n            }),\n            onChange: this.props.onChange,\n            autoFocus: this.props.autoFocus,\n            ref: ref => {\n                this.dom = ref;\n                this.props.onRef(ref);\n            }\n        };\n\n        let showValidationIcon = true;\n        let addonLeft = '';\n        if (this.props.addonLeft) {\n            addonLeft = <span className={styles.addon}>{this.props.addonLeft}</span>;\n            showValidationIcon = false;\n        }\n\n        let addonRight = '';\n        if (this.props.addonRight) {\n            addonRight = <span className={styles.addon}>{this.props.addonRight}</span>;\n            showValidationIcon = false;\n        }\n\n        let wrapperClassName = this.props.wrapperClassName + ' inputGroup';\n        let iconLeft = '';\n        if (this.props.iconLeft) {\n            wrapperClassName += ' ' + styles.iconLeft;\n            iconLeft = <Icon icon={this.props.iconLeft}/>;\n        }\n\n        let iconRight = '';\n        if (this.props.iconRight) {\n            wrapperClassName += ' ' + styles.iconRight;\n            iconRight = <Icon icon={this.props.iconRight}/>;\n        }\n\n        return (\n            <FormGroup ref={ref => this.ref = ref} valid={this.state.isValid} className={this.props.className}>\n                {this.props.renderLabel.call(this)}\n                {this.props.renderInfo.call(this)}\n\n                <div className={wrapperClassName}>\n                    {iconLeft}\n                    {addonLeft}\n                    <DelayedOnChange delay={this.props.delay}>\n                        <input {...props}/>\n                    </DelayedOnChange>\n                    {addonRight}\n                    {iconRight}\n                    {showValidationIcon && this.props.renderValidationIcon.call(this)}\n                </div>\n                {this.props.renderDescription.call(this)}\n                {this.props.renderValidationMessage.call(this)}\n            </FormGroup>\n        );\n    }\n}\n\nInput.defaultProps = {\n    delay: 400,\n    onEnter: _.noop, // NOTE: only works if inside a Form\n    onKeyDown: _.noop,\n    onKeyUp: _.noop,\n    onRef: _.noop,\n    type: 'text',\n    autoFocus: null,\n    addonLeft: null,\n    addonRight: null,\n    iconLeft: null,\n    iconRight: null,\n    wrapperClassName: '',\n    renderValidationIcon() {\n        if (!this.props.showValidationIcon || this.state.isValid === null) {\n            return null;\n        }\n\n        const { FormGroup } = this.props;\n\n        if (this.state.isValid === true) {\n            return <FormGroup.ValidationIcon/>;\n        }\n        return <FormGroup.ValidationIcon error/>;\n    }\n};\n\nexport default createComponent([Input, FormComponent], {\n    formComponent: true,\n    modules: ['DelayedOnChange', 'Icon', 'FormGroup'],\n    styles\n});\n"]}