{"version":3,"sources":["../../../src/components/Tabs/Tabs.jsx"],"names":["Tabs","state","selected","tabs","tabsHeader","tabsContent","map","m","bind","index","setState","router","getParams","props","attachToForm","onReady","selectTab","getSelectedTab","detachFromForm","Children","children","child","active","parseInt","headerProps","key","tabClicked","e","persist","onClick","isDefaultPrevented","render","renderHeader","push","contentProps","renderContent","call","parseChildren","renderTabs","Component","defaultProps","position","size","styles","tabsContainerCss","navigationTop","navigationLeft","tabsNavClasses","navigation","navigationLarge","body","header","panes","content"],"mappings":"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","file":"Tabs.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport classSet from \"classnames\";\nimport { app, createComponent, i18n } from 'webiny-app';\nimport TabHeader from './TabHeader';\nimport TabContent from './TabContent';\nimport styles from './styles.css';\n\nclass Tabs extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            selected: 0\n        };\n\n        this.tabs = [];\n        this.tabsHeader = [];\n        this.tabsContent = [];\n\n        [\n            'parseChildren',\n            'selectTab',\n            'getSelectedTab'\n        ].map(m => this[m] = this[m].bind(this));\n    }\n\n    selectTab(index) {\n        this.setState({ selected: index });\n    }\n\n    getSelectedTab() {\n        return this.state.selected;\n    }\n\n    componentWillMount() {\n        this.setState({ selected: app.router.getParams('tab') || this.props.selected || 0 });\n        if (this.props.attachToForm) {\n            this.props.attachToForm(this);\n        }\n    }\n\n    componentDidMount() {\n        this.props.onReady && this.props.onReady({\n            selectTab: this.selectTab,\n            getSelectedTab: this.getSelectedTab\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.props.detachFromForm) {\n            this.props.detachFromForm(this);\n        }\n    }\n\n    componentWillReceiveProps(props) {\n        // Tabs selected via props\n        if (props.selected !== this.props.selected) {\n            this.setState({ selected: props.selected });\n        }\n    }\n\n    parseChildren(props, state) {\n        this.tabsHeader = [];\n        this.tabsContent = [];\n\n        React.Children.map(props.children, (child, index) => {\n            const active = parseInt(state.selected) === index;\n\n            const headerProps = {\n                key: index,\n                active\n            };\n\n            _.assign(headerProps, _.omit(child.props, ['render', 'children', 'renderContent', 'renderHeader']));\n\n            let tabClicked = (e) => {\n                e.persist();\n                // Pass instance of Tabs, index clicked and event.\n                child.props.onClick({ tabs: this, index, e});\n                if (!e.isDefaultPrevented()) {\n                    this.selectTab(index);\n                }\n            };\n\n            if (_.has(child.props, 'renderHeader')) {\n                headerProps.render = child.props.renderHeader;\n            }\n\n            this.tabsHeader.push(\n                <TabHeader {...headerProps} onClick={tabClicked}/>\n            );\n\n            const contentProps = {\n                key: index,\n                active\n            };\n            _.assign(contentProps, _.omit(child.props, ['render', 'renderContent', 'renderHeader']));\n            if (_.has(child.props, 'renderContent')) {\n                contentProps.render = child.props.renderContent;\n            }\n            this.tabsContent.push(\n                <TabContent {...contentProps}/>\n            );\n        });\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        this.parseChildren(this.props, this.state);\n        return this.props.renderTabs.call(this);\n    }\n}\n\nTabs.defaultProps = {\n    position: 'top', // top, left\n    size: 'default',\n    selected: 0,\n    renderTabs() {\n        const { styles, position } = this.props;\n\n        const tabsContainerCss = classSet(\n            styles.tabs,\n            {\n                [styles.navigationTop]: position === 'top',\n                [styles.navigationLeft]: position === 'left'\n            }\n        );\n\n        const tabsNavClasses = {\n            [styles.navigation]: true,\n            [styles.navigationLarge]: this.props.size === 'large'\n        };\n\n        return (\n            <div className={tabsContainerCss}>\n                <div className={styles.body}>\n                    <ul className={classSet(tabsNavClasses)}>\n                        {this.props.renderHeader.call(this, { header: this.tabsHeader })}\n                    </ul>\n                    <div className={styles.panes}>\n                        {this.props.renderContent.call(this, { content: this.tabsContent })}\n                    </div>\n                </div>\n            </div>\n        );\n    },\n    renderHeader({ header }) {\n        return header;\n    },\n    renderContent({ content }) {\n        return content;\n    }\n};\n\nexport default createComponent(Tabs, { styles, tabs: true });"]}