{"version":3,"sources":["../../../src/components/Settings/index.js"],"names":["t","namespace","Settings","props","render","call","growler","services","get","Form","formProps","api","createHttpMethod","onSuccessMessage","onSubmitSuccess","children","loadModel","form","showLoading","then","hideLoading","response","data","code","danger","message","handleApiError","Component","defaultProps","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AAEA,IAAMA,IAAI,gBAAKC,SAAL,CAAe,oBAAf,CAAV;;IACMC,Q;;;;;;;;;;iCACO;AACL,gBAAI,KAAKC,KAAL,CAAWC,MAAf,EAAuB;AACnB,uBAAO,KAAKD,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,CAAuB,IAAvB,CAAP;AACH;;AAED,gBAAMC,UAAU,eAAIC,QAAJ,CAAaC,GAAb,CAAiB,SAAjB,CAAhB;;AALK,gBAOGC,IAPH,GAOY,KAAKN,KAPjB,CAOGM,IAPH;;AAQL,gBAAMC,YAAY;AACdC,qBAAK,KAAKR,KAAL,CAAWQ,GADF;AAEdC,kCAAkB,OAFJ;AAGdC,kCAAkB,KAAKV,KAAL,CAAWU,gBAHf;AAIdC,iCAAiB,KAAKX,KAAL,CAAWW,eAJd;AAKdC,0BAAU,KAAKZ,KAAL,CAAWY,QALP;AAMdC,yBANc,2BAMM;AAAA,wBAARC,IAAQ,QAARA,IAAQ;;AAChBA,yBAAKC,WAAL;AACA,2BAAOD,KAAKd,KAAL,CAAWQ,GAAX,CAAeH,GAAf,CAAmB,GAAnB,EAAwBW,IAAxB,CAA6B,oBAAY;AAC5CF,6BAAKG,WAAL;AACA,4BAAIC,SAASC,IAAT,CAAcC,IAAlB,EAAwB;AACpBjB,oCAAQkB,MAAR,CACIH,SAASC,IAAT,CAAcG,OADlB,EAEIzB,CAFJ,mBAGI,IAHJ;AAKA,mCAAOiB,KAAKS,cAAL,CAAoBL,QAApB,CAAP;AACH;AACD,+BAAOA,SAASC,IAAT,CAAcA,IAArB;AACH,qBAXM,CAAP;AAYH;AApBa,aAAlB;;AAuBA,mBAAO,8BAAC,IAAD,EAAUZ,SAAV,CAAP;AACH;;;EAjCkB,gBAAMiB,S;;AAoC7BzB,SAAS0B,YAAT,GAAwB;AACpBjB,SAAK,WADe;AAEpBE,sBAAkB;AAAA,eAAMb,CAAN;AAAA,KAFE;AAGpBc,qBAAiB;AAHG,CAAxB;;kBAMe,gCAAgBZ,QAAhB,EAA0B,EAAE2B,SAAS,CAAC,MAAD,CAAX,EAA1B,C","file":"index.js","sourcesContent":["import React from \"react\";\nimport { app, createComponent, i18n } from \"webiny-app\";\n\nconst t = i18n.namespace(\"Webiny.Ui.Settings\");\nclass Settings extends React.Component {\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        const growler = app.services.get(\"growler\");\n\n        const { Form } = this.props;\n        const formProps = {\n            api: this.props.api,\n            createHttpMethod: \"patch\",\n            onSuccessMessage: this.props.onSuccessMessage,\n            onSubmitSuccess: this.props.onSubmitSuccess,\n            children: this.props.children,\n            loadModel({ form }) {\n                form.showLoading();\n                return form.props.api.get(\"/\").then(response => {\n                    form.hideLoading();\n                    if (response.data.code) {\n                        growler.danger(\n                            response.data.message,\n                            t`That didn't go as expected...`,\n                            true\n                        );\n                        return form.handleApiError(response);\n                    }\n                    return response.data.data;\n                });\n            }\n        };\n\n        return <Form {...formProps} />;\n    }\n}\n\nSettings.defaultProps = {\n    api: \"/settings\",\n    onSuccessMessage: () => t`Settings saved!`,\n    onSubmitSuccess: null\n};\n\nexport default createComponent(Settings, { modules: [\"Form\"] });\n"]}