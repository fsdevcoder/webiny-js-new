{"version":3,"sources":["../../../src/components/Image/Preview.jsx"],"names":["ImagePreview","props","map","m","bind","e","stopPropagation","onEdit","onDelete","render","call","image","Link","styles","cacheBust","modifiedOn","data","Date","getTime","file","float","filePreview","src","width","editImage","fileEdit","deleteImage","fileRemove","Component","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;;;IAEMA,Y;;;AAEF,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,8IACTA,KADS;;AAGf,SAAC,WAAD,EAAc,aAAd,EAA6BC,GAA7B,CAAiC;AAAA,mBAAK,MAAKC,CAAL,IAAU,MAAKA,CAAL,EAAQC,IAAR,OAAf;AAAA,SAAjC;AAHe;AAIlB;;;;kCAESC,C,EAAG;AACTA,cAAEC,eAAF;AACA,iBAAKL,KAAL,CAAWM,MAAX;AACH;;;oCAEWF,C,EAAG;AACXA,cAAEC,eAAF;AACA,iBAAKL,KAAL,CAAWO,QAAX,CAAoBH,CAApB;AACH;;;iCAEQ;AACL,gBAAI,KAAKJ,KAAL,CAAWQ,MAAf,EAAuB;AACnB,uBAAO,KAAKR,KAAL,CAAWQ,MAAX,CAAkBC,IAAlB,CAAuB,IAAvB,CAAP;AACH;;AAHI,yBAK2B,KAAKT,KALhC;AAAA,gBAKGU,KALH,UAKGA,KALH;AAAA,gBAKUC,IALV,UAKUA,IALV;AAAA,gBAKgBC,MALhB,UAKgBA,MALhB;;AAML,gBAAIC,YAAY,EAAhB;AACA,gBAAIH,MAAMI,UAAN,IAAoB,CAACJ,MAAMK,IAA/B,EAAqC;AACjCF,4BAAY,SAAS,IAAIG,IAAJ,CAASN,MAAMI,UAAf,EAA2BG,OAA3B,EAArB;AACH;;AAED,mBACI;AAAA;AAAA,kBAAK,WAAWL,OAAOM,IAAvB,EAA6B,OAAO,EAAEC,OAAO,MAAT,EAApC;AACI,uDAAK,WAAWP,OAAOQ,WAAvB,EAAoC,KAAKV,MAAMK,IAAN,IAAcL,MAAMW,GAAN,GAAYR,SAAnE,EAA8E,OAAO,EAAES,OAAO,MAAT,EAArF,GADJ;AAEK,qBAAKtB,KAAL,CAAWM,MAAX,GAAoB,8BAAC,IAAD,IAAM,SAAS,KAAKiB,SAApB,EAA+B,WAAWX,OAAOY,QAAjD,GAApB,GAAmF,IAFxF;AAGI,8CAAC,IAAD,IAAM,SAAS,KAAKC,WAApB,EAAiC,WAAWb,OAAOc,UAAnD;AAHJ,aADJ;AAOH;;;EApCsB,gBAAMC,S;;kBAuClB,gCAAgB5B,YAAhB,EAA8B,EAAE6B,SAAS,CAAC,MAAD,CAAX,EAAqBhB,wBAArB,EAA9B,C","file":"Preview.js","sourcesContent":["import React from 'react';\nimport { createComponent } from 'webiny-app';\nimport styles from './styles.css';\n\nclass ImagePreview extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        ['editImage', 'deleteImage'].map(m => this[m] = this[m].bind(this));\n    }\n\n    editImage(e) {\n        e.stopPropagation();\n        this.props.onEdit();\n    }\n\n    deleteImage(e) {\n        e.stopPropagation();\n        this.props.onDelete(e);\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        const { image, Link, styles } = this.props;\n        let cacheBust = '';\n        if (image.modifiedOn && !image.data) {\n            cacheBust = '?ts=' + new Date(image.modifiedOn).getTime();\n        }\n\n        return (\n            <div className={styles.file} style={{ float: 'none' }}>\n                <img className={styles.filePreview} src={image.data || image.src + cacheBust} style={{ width: '100%' }}/>\n                {this.props.onEdit ? <Link onClick={this.editImage} className={styles.fileEdit}/> : null}\n                <Link onClick={this.deleteImage} className={styles.fileRemove}/>\n            </div>\n        );\n    }\n}\n\nexport default createComponent(ImagePreview, { modules: ['Link'], styles });"]}