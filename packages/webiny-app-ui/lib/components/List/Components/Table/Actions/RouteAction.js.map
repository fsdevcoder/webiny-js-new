{"version":3,"sources":["../../../../../../src/components/List/Components/Table/Actions/RouteAction.jsx"],"names":["RouteAction","props","map","m","bind","route","data","params","routeParams","router","getRoute","p","name","render","call","hide","Link","Icon","getParams","icon","label","children","Component","defaultProps","modules"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;IAEMA,W;;;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4IACTA,KADS;;AAGf,SAAC,UAAD,EAAY,WAAZ,EAAyBC,GAAzB,CAA6B;AAAA,mBAAK,MAAKC,CAAL,IAAU,MAAKA,CAAL,EAAQC,IAAR,OAAf;AAAA,SAA7B;AAHe;AAIlB;;;;mCAEU;AACP,mBAAO,0BAAa,KAAKH,KAAL,CAAWI,KAAxB,IAAiC,KAAKJ,KAAL,CAAWI,KAAX,CAAiB,KAAKJ,KAAL,CAAWK,IAA5B,CAAjC,GAAqE,KAAKL,KAAL,CAAWI,KAAvF;AACH;;;oCAEW;AAAA;;AACR,gBAAIE,SAAS,EAAb;;AAEA,gBAAG,CAAC,KAAKN,KAAL,CAAWM,MAAf,EAAuB;AACnB,oBAAMC,cAAc,eAAIC,MAAJ,CAAWC,QAAX,CAAoB,KAAKA,QAAL,EAApB,EAAqCH,MAAzD;AACAC,4BAAYN,GAAZ,CAAgB,aAAK;AACjBK,2BAAOI,EAAEC,IAAT,IAAiB,OAAKX,KAAL,CAAWK,IAAX,CAAgBK,EAAEC,IAAlB,CAAjB;AACH,iBAFD;AAGH,aALD,MAKO;AACHL,2CAAa,KAAKN,KAAL,CAAWM,MAAxB;AACH;;AAED,gBAAI,0BAAaA,MAAb,CAAJ,EAA0B;AACtB;AACAA,yBAASA,OAAO,KAAKN,KAAL,CAAWK,IAAlB,CAAT;AACH;;AAED,mBAAOC,MAAP;AACH;;;iCAEQ;AACL,gBAAI,KAAKN,KAAL,CAAWY,MAAf,EAAuB;AACnB,uBAAO,KAAKZ,KAAL,CAAWY,MAAX,CAAkBC,IAAlB,CAAuB,IAAvB,CAAP;AACH;;AAED,gBAAI,0BAAa,KAAKb,KAAL,CAAWc,IAAxB,KAAiC,KAAKd,KAAL,CAAWc,IAAX,CAAgB,KAAKd,KAAL,CAAWK,IAA3B,CAArC,EAAuE;AACnE,uBAAO,IAAP;AACH;;AAPI,yBASgB,KAAKL,KATrB;AAAA,gBASEe,IATF,UASEA,IATF;AAAA,gBASQC,IATR,UASQA,IATR;;;AAWL,mBACI;AAAC,oBAAD;AAAA,kBAAM,OAAO,KAAKP,QAAL,EAAb,EAA8B,QAAQ,KAAKQ,SAAL,EAAtC;AACK,qBAAKjB,KAAL,CAAWkB,IAAX,GAAkB,8BAAC,IAAD,IAAM,MAAM,KAAKlB,KAAL,CAAWkB,IAAvB,GAAlB,GAAmD,IADxD;AAEK,qBAAKlB,KAAL,CAAWmB,KAAX,IAAoB,KAAKnB,KAAL,CAAWoB;AAFpC,aADJ;AAMH;;;EAhDqB,gBAAMC,S;;AAmDhCtB,YAAYuB,YAAZ,GAA2B;AACvBhB,YAAQ,IADe;AAEvBF,WAAO,IAFgB;AAGvBC,UAAM,EAHiB;AAIvBc,WAAO,IAJgB;AAKvBL,UAAM;AALiB,CAA3B;;kBAQe,gCAAgBf,WAAhB,EAA6B,EAACwB,SAAS,CAAC,MAAD,EAAS,MAAT,CAAV,EAA7B,C","file":"RouteAction.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport { app, createComponent } from 'webiny-app';\n\nclass RouteAction extends React.Component {\n    constructor(props) {\n        super(props);\n\n        ['getRoute','getParams'].map(m => this[m] = this[m].bind(this));\n    }\n\n    getRoute() {\n        return _.isFunction(this.props.route) ? this.props.route(this.props.data) : this.props.route;\n    }\n\n    getParams() {\n        let params = {};\n\n        if(!this.props.params) {\n            const routeParams = app.router.getRoute(this.getRoute()).params;\n            routeParams.map(p => {\n                params[p.name] = this.props.data[p.name];\n            });\n        } else {\n            params = {...this.props.params}\n        }\n\n        if (_.isFunction(params)) {\n            //noinspection JSUnresolvedFunction\n            params = params(this.props.data);\n        }\n\n        return params;\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        if (_.isFunction(this.props.hide) && this.props.hide(this.props.data)) {\n            return null;\n        }\n\n        const {Link, Icon} = this.props;\n\n        return (\n            <Link route={this.getRoute()} params={this.getParams()}>\n                {this.props.icon ? <Icon icon={this.props.icon}/> : null}\n                {this.props.label || this.props.children}\n            </Link>\n        );\n    }\n}\n\nRouteAction.defaultProps = {\n    params: null,\n    route: null,\n    data: {},\n    label: null,\n    hide: null\n};\n\nexport default createComponent(RouteAction, {modules: ['Link', 'Icon']});"]}