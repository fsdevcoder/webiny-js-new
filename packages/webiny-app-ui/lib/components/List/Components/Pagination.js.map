{"version":3,"sources":["../../../../src/components/List/Components/Pagination.jsx"],"names":["t","namespace","Pagination","props","renderPages","bind","page","currentPage","onPageChange","cp","parseInt","tp","totalPages","showLowDots","showHighDots","showPages","size","padding","pages","i","push","unshift","key","onClick","pageChanged","className","styles","active","render","call","count","Grid","previousPage","previousClasses","previous","disabled","nextPage","nextClasses","next","pagination","renderPerPage","totalCount","Component","defaultProps","onPerPageChange","perPage","perPageOptions","Dropdown","map","option","modules"],"mappings":"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","file":"Pagination.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport classSet from \"classnames\";\nimport { createComponent, i18n } from 'webiny-app';\nimport styles from '../styles.css';\n\nconst t = i18n.namespace(\"Webiny.Ui.List.Pagination\");\nclass Pagination extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.renderPages = this.renderPages.bind(this);\n    }\n\n    pageChanged(page) {\n        if (page === this.props.currentPage) {\n            return;\n        }\n\n        this.props.onPageChange(page);\n    }\n\n    renderPages() {\n        const cp = parseInt(this.props.currentPage);\n        const tp = this.props.totalPages;\n        let showLowDots = false;\n        let showHighDots = false;\n        const showPages = this.props.size === 'large' ? 9 : 7;\n        const padding = this.props.size === 'large' ? 2 : 1;\n\n        let pages = [];\n        if (tp <= showPages) {\n            pages = tp > 1 ? _.range(1, tp + 1) : [1];\n        } else {\n            if (cp - padding > 3) {\n                showLowDots = true;\n            }\n\n            if (cp + (padding + 2) < tp) {\n                showHighDots = true;\n            }\n\n            if (showLowDots && showHighDots) {\n                pages = [1, null];\n                let i = cp - padding;\n                for (i; i <= cp + padding; i++) {\n                    pages.push(i);\n                }\n                pages.push(null);\n                pages.push(tp);\n            } else if (showLowDots) {\n                pages = _.range(tp - showPages + 3, tp + 1);\n                pages.unshift(null);\n                pages.unshift(1);\n            } else if (showHighDots) {\n                pages = _.range(1, showPages - 1);\n                pages.push(null);\n                pages.push(tp);\n            }\n        }\n\n        return _.map(pages, (page, i) => {\n            const key = page !== null ? page + '-' + i : 'dots-' + i;\n            const onClick = page !== null ? this.pageChanged.bind(this, page) : null;\n            const className = cp === page ? this.props.styles.active : null;\n            return (\n                <li key={key} className={className} onClick={onClick}>\n                    <a href=\"javascript:void(0);\">{page || '...'}</a>\n                </li>\n            );\n        });\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        if (!this.props.count) {\n            return null;\n        }\n\n        const { Grid, styles } = this.props;\n        const cp = parseInt(this.props.currentPage);\n        const previousPage = cp === 1 ? null : this.pageChanged.bind(this, cp - 1);\n        const previousClasses = classSet(\n            styles.previous,\n            {\n                [styles.disabled]: cp === 1\n            }\n        );\n\n        const nextPage = cp === this.props.totalPages ? null : this.pageChanged.bind(this, cp + 1);\n        const nextClasses = classSet(\n            styles.next,\n            {\n                [styles.disabled]: cp === this.props.totalPages\n            }\n        );\n\n        return (\n            <webiny-list-pagination>\n                <Grid.Row>\n                    <Grid.Col all={12}>\n                        <ul className={classSet(styles.pagination)}>\n                            <li className={previousClasses} onClick={previousPage}>\n                                <a href=\"javascript:void(0)\">\n                                    <span className=\"icon icon-caret-down\"/>\n                                    <span>{t`PREVIOUS`}</span>\n                                </a>\n                            </li>\n                            {this.renderPages()}\n                            <li className={nextClasses} onClick={nextPage}>\n                                <a href=\"javascript:void(0)\">\n                                    <span>{t`NEXT`}</span>\n                                    <span className=\"icon icon-caret-down\"/>\n                                </a>\n                            </li>\n                        </ul>\n                    </Grid.Col>\n                    <Grid.Col all={12}>\n                        {this.props.renderPerPage.call(this)}\n                        <span>Total number of records: <strong>{this.props.totalCount}</strong></span>\n                    </Grid.Col>\n                </Grid.Row>\n            </webiny-list-pagination>\n        );\n    }\n}\n\nPagination.defaultProps = {\n    onPageChange: _.noop,\n    onPerPageChange: _.noop,\n    totalPages: 0,\n    currentPage: 0,\n    perPage: 0,\n    perPageOptions: [10, 25, 50, 100],\n    count: 0,\n    totalCount: 0,\n    size: 'large', // large or small\n    renderPerPage() {\n        const { Dropdown, perPageOptions } = this.props;\n        return (\n            <Dropdown title={<span><strong>{this.props.perPage}</strong> per page</span>} type=\"balloon\">\n                <Dropdown.Header title={t`Results per page`}/>\n                {perPageOptions.map(option => (\n                    <Dropdown.Link key={option} title={option} onClick={() => this.props.onPerPageChange(option)}/>\n                ))}\n            </Dropdown>\n        );\n    }\n};\n\nexport default createComponent(Pagination, { modules: ['Grid', 'Dropdown'], styles });"]}