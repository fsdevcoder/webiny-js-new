{"version":3,"sources":["../../../src/components/Dropdown/Dropdown.js"],"names":["Dropdown","props","id","closeOnClick","document","on","e","stopPropagation","styles","element","onShow","addClass","opened","onShown","onHide","removeClass","onHidden","off","render","call","alignClasses","normal","left","right","classes","dropdown","align","className","type","balloon","buttonClasses","dropdownToggle","ref","disabled","title","caret","dropdownMenu","listStyle","children","Component","defaultProps"],"mappings":"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","file":"Dropdown.js","sourcesContent":["import React from \"react\";\nimport _ from \"lodash\";\nimport $ from \"jquery\";\nimport classSet from \"classnames\";\nimport { createComponent } from \"webiny-app\";\nimport styles from \"./styles.css\";\n\nclass Dropdown extends React.Component {\n    constructor(props) {\n        super(props);\n        this.id = _.uniqueId(\"dropdown-\");\n    }\n\n    componentDidMount() {\n        if (!this.props.closeOnClick) {\n            $(document).on(\"click.\" + this.id, \".\" + this.id + \" .dropdown-menu\", e => {\n                e.stopPropagation();\n            });\n        }\n\n        const { styles } = this.props;\n\n        $(this.element).on({\n            \"show.bs.dropdown\": () => {\n                this.props.onShow();\n                $(this.element).addClass(styles.opened);\n            },\n            \"shown.bs.dropdown\": () => {\n                this.props.onShown();\n            },\n            \"hide.bs.dropdown\": () => {\n                this.props.onHide();\n                $(this.element).removeClass(styles.opened);\n            },\n            \"hidden.bs.dropdown\": () => {\n                this.props.onHidden();\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        $(document).off(\".\" + this.id);\n    }\n\n    close() {\n        const { styles } = this.props;\n        $(this.element).removeClass(\"open\");\n        $(this.element).removeClass(styles.opened);\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        const { styles, ...props } = this.props;\n\n        const alignClasses = {\n            normal: \"\",\n            left: \"pull-left\",\n            right: \"pull-right\"\n        };\n\n        const classes = classSet(\n            styles.dropdown,\n            alignClasses[props.align],\n            props.className,\n            this.id,\n            this.props.type === \"balloon\" && styles.balloon\n        );\n\n        const buttonClasses = classSet(\"dropdown-toggle\", styles.dropdownToggle);\n\n        return (\n            <div className={classes} data-role=\"dropdown\" ref={ref => (this.element = ref)}>\n                <button\n                    className={buttonClasses}\n                    type=\"button\"\n                    data-toggle=\"dropdown\"\n                    disabled={this.props.disabled}\n                >\n                    {props.title}\n                    <span className={\"caret \" + styles.caret} />\n                </button>\n                <ul\n                    className={\"dropdown-menu \" + styles.dropdownMenu}\n                    role=\"menu\"\n                    style={this.props.listStyle}\n                    data-role=\"dropdown-menu\"\n                >\n                    {_.isFunction(props.children)\n                        ? props.children.call(this, this)\n                        : props.children}\n                </ul>\n            </div>\n        );\n    }\n}\n\nDropdown.defaultProps = {\n    align: \"normal\",\n    closeOnClick: true,\n    disabled: false,\n    listStyle: null,\n    className: null,\n    onShow: _.noop,\n    onShown: _.noop,\n    onHide: _.noop,\n    onHidden: _.noop,\n    type: \"default\"\n};\n\nexport default createComponent(Dropdown, { styles });\n"]}