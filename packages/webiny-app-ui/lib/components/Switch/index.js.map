{"version":3,"sources":["../../../src/components/Switch/index.js"],"names":["Switch","props","state","initialState","switch","bind","id","attachToForm","isDisabled","onChange","dom","checked","render","call","FormGroup","styles","classes","switchInline","disabled","value","JSON","parse","renderLabel","ref","renderDescription","Component","defaultProps","style","modules","formComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;AACA;;AACA;;;;AACA;;;;;;IAEMA,M;;;AACF,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACTA,KADS;;AAGf,cAAKC,KAAL,qBACOD,MAAME,YADb;;AAIA,cAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AAPe;AAQlB;;;;6CAEoB;AACjB,iBAAKC,EAAL,GAAU,wBAAW,SAAX,CAAV;AACA,gBAAI,KAAKL,KAAL,CAAWM,YAAf,EAA6B;AACzB,qBAAKN,KAAL,CAAWM,YAAX,CAAwB,IAAxB;AACH;AACJ;;;kCAEQ;AACL,gBAAI,KAAKN,KAAL,CAAWO,UAAX,EAAJ,EAA6B;AACzB;AACH;AACD,iBAAKP,KAAL,CAAWQ,QAAX,CAAoB,CAAC,KAAKC,GAAL,CAASC,OAA9B;AACH;;;iCAEQ;AAAA;;AACL,gBAAI,KAAKV,KAAL,CAAWW,MAAf,EAAuB;AACnB,uBAAO,KAAKX,KAAL,CAAWW,MAAX,CAAkBC,IAAlB,CAAuB,IAAvB,CAAP;AACH;;AAHI,yBAKyB,KAAKZ,KAL9B;AAAA,gBAKGa,SALH,UAKGA,SALH;AAAA,gBAKcC,MALd,UAKcA,MALd;;AAML,gBAAIC,UAAU,0BAASD,OAAOX,MAAhB,EAAwBW,OAAOE,YAA/B,CAAd;AACA,gBAAI,KAAKhB,KAAL,CAAWiB,QAAf,EAAyB;AACrBF,2BAAW,MAAMD,OAAOG,QAAxB;AACH;;AAED;AACA;AACA,gBAAMC,QAAQC,KAAKC,KAAL,CAAW,KAAKpB,KAAL,CAAWkB,KAAX,IAAoB,IAA/B,CAAd;;AAEA,mBACI;AAAC,yBAAD;AAAA;AACK,qBAAKlB,KAAL,CAAWqB,WAAX,CAAuBT,IAAvB,CAA4B,IAA5B,CADL;AAEI,uDAAK,WAAU,UAAf,GAFJ;AAGI;AAAA;AAAA,sBAAK,WAAWG,OAAhB;AACI;AACI,6BAAK;AAAA,mCAAQ,OAAKN,GAAL,GAAWa,IAAnB;AAAA,yBADT;AAEI,4BAAI,KAAKjB,EAFb;AAGI,8BAAK,UAHT;AAII,sCAJJ;AAKI,iCAASa,UAAU;AALvB,sBADJ;AAQI,6DAAO,SAAS,KAAKb,EAArB,EAAyB,SAAS,KAAKF,MAAvC;AARJ,iBAHJ;AAaK,qBAAKH,KAAL,CAAWuB,iBAAX,CAA6BX,IAA7B,CAAkC,IAAlC;AAbL,aADJ;AAiBH;;;EAzDgB,gBAAMY,S;;AA4D3BzB,OAAO0B,YAAP,GAAsB;AAClBC,WAAO;AADW,CAAtB;;kBAIe,gCAAgB,CAAC3B,MAAD,0BAAhB,EAAyC;AACpD4B,aAAS,CAAC,WAAD,CAD2C;AAEpDb,4BAFoD;AAGpDc,mBAAe;AAHqC,CAAzC,C","file":"index.js","sourcesContent":["import React from \"react\";\nimport _ from \"lodash\";\nimport classSet from \"classnames\";\nimport { createComponent } from \"webiny-app\";\nimport FormComponent from \"./../Form/FormComponent\";\nimport styles from \"./styles.css\";\n\nclass Switch extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            ...props.initialState\n        };\n\n        this.switch = this.switch.bind(this);\n    }\n\n    componentWillMount() {\n        this.id = _.uniqueId(\"switch-\");\n        if (this.props.attachToForm) {\n            this.props.attachToForm(this);\n        }\n    }\n\n    switch() {\n        if (this.props.isDisabled()) {\n            return;\n        }\n        this.props.onChange(!this.dom.checked);\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        const { FormGroup, styles } = this.props;\n        let classes = classSet(styles.switch, styles.switchInline);\n        if (this.props.disabled) {\n            classes += \" \" + styles.disabled;\n        }\n\n        // The JSON.parse was added since sometimes value can come in as a string (eg. when value is coming from URL, as a query parameter).\n        // With the JSON.parse, we ensure we get non-string, pure boolean value, and that the switch button is correctly rendered.\n        const value = JSON.parse(this.props.value || null);\n\n        return (\n            <FormGroup>\n                {this.props.renderLabel.call(this)}\n                <div className=\"clearfix\" />\n                <div className={classes}>\n                    <input\n                        ref={ref => (this.dom = ref)}\n                        id={this.id}\n                        type=\"checkbox\"\n                        readOnly\n                        checked={value === true}\n                    />\n                    <label htmlFor={this.id} onClick={this.switch} />\n                </div>\n                {this.props.renderDescription.call(this)}\n            </FormGroup>\n        );\n    }\n}\n\nSwitch.defaultProps = {\n    style: {}\n};\n\nexport default createComponent([Switch, FormComponent], {\n    modules: [\"FormGroup\"],\n    styles,\n    formComponent: true\n});\n"]}