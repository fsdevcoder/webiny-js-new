{"version":3,"sources":["../../../src/components/Link/index.js"],"names":["Link","props","getLinkProps","bind","styles","href","disabled","mailTo","url","test","startsWith","route","router","getRoute","createHref","name","params","substring","separate","newTab","target","typeClasses","default","btnDefault","primary","btnPrimary","secondary","btnSuccess","alignClasses","normal","left","right","sizeClasses","large","btnLarge","classes","type","size","align","className","preventScroll","documentTitle","finalProps","value","prop","allowedProps","includes","onClick","event","e","render","call","children","Component","prototype","defaultProps","title","tabIndex"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport classSet from 'classnames';\nimport { app, createComponent } from 'webiny-app';\nimport styles from './styles.css';\n\nclass Link extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.getLinkProps = this.getLinkProps.bind(this);\n    }\n\n    getLinkProps() {\n        const props = _.clone(this.props);\n        const { styles } = this.props;\n\n        props.href = 'javascript:void(0)';\n\n        if (!props.disabled) {\n            if (props.mailTo) {\n                props.href = 'mailto:' + props.mailTo\n            } else if (props.url) {\n                // Let's ensure we have at least http:// specified - for cases where users just type www...\n                if (!/^(f|ht)tps?:\\/\\//i.test(props.url) && !props.url.startsWith('/')) {\n                    props.url = 'http://' + props.url;\n                }\n                props.href = props.url;\n            } else if (props.route) {\n                let route = props.route;\n                if (_.isString(route)) {\n                    route = route === 'current' ? app.router.route : app.router.getRoute(route);\n                }\n\n                if (!route) {\n                    props.href = 'javascript:void(0)';\n                } else {\n                    props.href = app.router.createHref(route.name, props.params);\n                    if (props.href.startsWith('//')) {\n                        props.href = props.href.substring(1); // Get everything after first character (after first slash)\n                    }\n                }\n            }\n        }\n\n        if (props.separate || props.newTab) {\n            props.target = '_blank';\n        }\n\n        const typeClasses = {\n            default: styles.btnDefault,\n            primary: styles.btnPrimary,\n            secondary: styles.btnSuccess\n        };\n\n        const alignClasses = {\n            normal: '',\n            left: 'pull-left',\n            right: 'pull-right'\n        };\n\n        const sizeClasses = {\n            normal: '',\n            large: styles.btnLarge,\n            //small: 'btn-sm' // sven: this option doesn't exist in css\n        };\n\n        const classes = {};\n\n        if (this.props.type) {\n            classes[typeClasses[this.props.type]] = true;\n        }\n\n        if (this.props.size) {\n            classes[sizeClasses[this.props.size]] = true;\n        }\n\n        if (this.props.align) {\n            classes[alignClasses[props.align]] = true;\n        }\n\n        if (this.props.className) {\n            classes[this.props.className] = true;\n        }\n\n        if (this.props.disabled) {\n            classes[styles.disabled] = true;\n        }\n\n        props.className = classSet(classes);\n\n        if (props.preventScroll) {\n            props['data-prevent-scroll'] = true;\n        }\n\n        if (props.documentTitle) {\n            props['data-document-title'] = props.documentTitle;\n        }\n\n        const finalProps = [];\n        _.each(props, (value, prop) => {\n            if (this.allowedProps.includes(prop) || prop.startsWith('data-')) {\n                finalProps[prop] = value;\n            }\n        });\n\n        if (props.onClick) {\n            props.onClick = e => this.props.onClick({ event: e });\n        }\n        return finalProps;\n    }\n\n    render() {\n        if (this.props.render) {\n            return this.props.render.call(this);\n        }\n\n        return (\n            <a {...this.getLinkProps()}>{this.props.children}</a>\n        );\n    }\n}\n\n// We can define this on prototype since it is not going to change between instances and we want to it accessible via \"this\"\nLink.prototype.allowedProps = ['className', 'style', 'target', 'href', 'onClick', 'title', 'tabIndex'];\n\nLink.defaultProps = {\n    align: null,\n    type: null,\n    size: null,\n    url: null,\n    mailTo: null,\n    title: null,\n    route: null,\n    preventScroll: false,\n    params: {},\n    separate: false,\n    newTab: false,\n    className: null,\n    tabIndex: null,\n    onClick: null\n};\n\nexport default createComponent(Link, { styles });\n"]}